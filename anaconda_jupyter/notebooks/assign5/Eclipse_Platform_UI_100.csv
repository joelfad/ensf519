summary,description,files
Bug 378114 REGRESSION: partHidden not fired on perspective close and reset (was: NPE in JavadocView after resetting perspective),- 4.2M7 test build: I20120429-1800 I encountered this problem during normal usage. The steps below may seem slightly un-normal but they are the simplest means I've found for reproducing the problem consistently. - start with a typical Java perspective - close the Declaration and Problems views at the bottom so that just the Javadoc view is left in that group - Window -> Reset Perspective - close the Declaration view again - the following is written to the Error Log and starts happening repeatedly in response to almost anything you try to do org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NullPointerException) at org.eclipse.swt.SWT.error(SWT.java:4361) at org.eclipse.swt.SWT.error(SWT.java:4276) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:138) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4144) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3761) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1017) ... <snip> ... Caused by: java.lang.NullPointerException at org.eclipse.jdt.internal.ui.infoviews.JavadocView.doSetInput(JavadocView.java:1041) at org.eclipse.jdt.internal.ui.infoviews.AbstractInfoView.doSetInput(AbstractInfoView.java:679) at org.eclipse.jdt.internal.ui.infoviews.AbstractInfoView.access$2(AbstractInfoView.java:678) at org.eclipse.jdt.internal.ui.infoviews.AbstractInfoView$2$1.run(AbstractInfoView.java:643) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135) ... 23 more,bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchPage.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/e4/compatibility/CompatibilityPart.java
Bug 382839 [Compatibility] 'Line Up' and 'Line Down' no longer work in content assist pop-up,"4.2 RC4. 'Line Up' and 'Line Down' no longer work in content assist pop-up. This works fine in 3.8 RC4. Steps: 1. start new workspace 2. assign a new key binding to 'Line Down' 3. paste this: ""class A {}"" into Package Explorer 4. invoke Content Assist (don't give focus to pop-up) 5. use the key binding from step 2. ==> in 3.8 this moves the selection in the pop-up as expected but in 4.2 it moves down inside the editor. The code which installs the handlers can be found in: org.eclipse.jface.text.contentassist.ContentAssistant.install()",bundles/org.eclipse.e4.core.commands/src/org/eclipse/e4/core/commands/CommandServiceAddon.java bundles/org.eclipse.e4.core.commands/src/org/eclipse/e4/core/commands/ExpressionContext.java bundles/org.eclipse.e4.core.commands/src/org/eclipse/e4/core/commands/internal/CommandServiceImpl.java bundles/org.eclipse.e4.core.commands/src/org/eclipse/e4/core/commands/internal/HandlerServiceHandler.java bundles/org.eclipse.e4.core.commands/src/org/eclipse/e4/core/commands/internal/HandlerServiceImpl.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/ContributionRecord.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/MenuItemRenderer.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/MenuManagerRenderer.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/MenuManagerRendererFilter.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/MenuRenderer.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/RenderedToolBarRenderer.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/ToolBarContributionRecord.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/ToolBarRenderer.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/TrimBarRenderer.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/ContributionsAnalyzer.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/E4Workbench.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/ExpressionContext.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/CommandToModelProcessor.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/MakeHandlersGo.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/ShowInMenu.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/Workbench.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchHandlerServiceHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/commands/CommandManagerLegacyWrapper.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/commands/CommandPersistence.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/contexts/ContextService.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/CommandProxy.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/E4HandlerProxy.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/LegacyHandlerService.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/menus/WorkbenchMenuService.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/quickaccess/CommandProvider.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/services/EvaluationReference.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/services/EvaluationService.java tests/org.eclipse.ui.tests/Eclipse UI Tests/org/eclipse/ui/tests/commands/HandlerActivationTest.java
Bug 410828 [DND] Editor closed and content lost when dropping detached editor's tab outside its window,"4.3 RC4 Make an editor dirty (change some content) and then drag it outside the workbench window to create a detached editor shell. Create a new workbench window and then drag the detached editor's tab into the new workbench window. Expected: Either drop cursor becomes ""cannot drop"" and dropping does nothing or drop works and the dirty editor ends up in the new window. Was: Editor is closed without any questions and my content changes are lost.",bundles/org.eclipse.e4.ui.workbench.addons.swt/src/org/eclipse/e4/ui/workbench/addons/cleanupaddon/CleanupAddon.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/ModelServiceImpl.java
Bug 365538 [CSS] UnsupportedOperationException from CSSValue#getCssText() with comma-separated values,A comma-separated CSS property causes an UnsupportedOperationException as Measure#getCssText() doesn't handle the LexicalUnit.SAC_OPERATOR_COMMA. There are other SAC_OPERATOR values that it doesn't handle either though I'm not certain that we actually support any properties that accept such operators.,bundles/org.eclipse.e4.ui.css.core/src/org/eclipse/e4/ui/css/core/impl/dom/Measure.java tests/org.eclipse.e4.ui.tests.css.core/src/org/eclipse/e4/ui/tests/css/core/parser/ValueTest.java
Bug 373148 [Compatibility] Executions that fail do not have any exceptions thrown,At the moment E4HandlerProxy just swallows exceptions. This means that a client using the IHS will think a handler execution has succeeded even when it actually hasn't. Minimally we should rethrow the ExecutionException from the IHandler's execute(ExecutionEvent) method if the implementation throws one.,bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/E4HandlerProxy.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/LegacyHandlerService.java
Bug 369560 [CSS] NoSuchMethodException reported setting keylines on non-supporting tab folders,Attempting to set a keyline property on a tab folder renderer that does not support it causes a NoSuchMethodException to be reported. This should be caught at the invokation site and instead transformed into an UnsupportedPropertyException. (The reports to the console are a bit of a nuisance.) java.lang.NoSuchMethodException: org.eclipse.e4.ui.widgets.CTabFolderRenderer.setInnerKeyline(org.eclipse.swt.graphics.Color) at java.lang.Class.getMethod(Class.java:1605) at org.eclipse.e4.ui.css.swt.properties.custom.CSSPropertyInnerKeylineSWTHandler.applyCSSProperty(CSSPropertyInnerKeylineSWTHandler.java:36) at org.eclipse.e4.ui.css.swt.properties.AbstractCSSPropertySWTHandler.applyCSSProperty(AbstractCSSPropertySWTHandler.java:39) at org.eclipse.e4.ui.css.core.impl.engine.AbstractCSSEngine.applyCSSProperty(AbstractCSSEngine.java:775) at org.eclipse.e4.ui.css.core.impl.engine.AbstractCSSEngine.applyStyleDeclaration(AbstractCSSEngine.java:540) at org.eclipse.e4.ui.css.core.impl.engine.AbstractCSSEngine.applyStyles(AbstractCSSEngine.java:457) at org.eclipse.e4.ui.css.core.impl.engine.AbstractCSSEngine.applyStyles(AbstractCSSEngine.java:397) at org.eclipse.e4.ui.css.swt.internal.theme.ThemeEngine.applyStyles(ThemeEngine.java:372) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$10.setClassnameAndId(PartRenderingEngine.java:1139) at org.eclipse.e4.ui.workbench.renderers.swt.SWTPartRenderer.setCSSInfo(SWTPartRenderer.java:85) at org.eclipse.e4.ui.workbench.renderers.swt.WBWRenderer.styleStack(WBWRenderer.java:170) at org.eclipse.e4.ui.workbench.renderers.swt.WBWRenderer.trackActivePart(WBWRenderer.java:156) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:56) at org.eclipse.e4.core.internal.contexts.ContextObjectSupplier$ContextInjectionListener.update(ContextObjectSupplier.java:77) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update(TrackableComputationExt.java:106) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled(EclipseContext.java:298) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseContext.java:312) at org.eclipse.e4.core.internal.contexts.EclipseContext.activate(EclipseContext.java:598) at org.eclipse.e4.core.internal.contexts.EclipseContext.activateBranch(EclipseContext.java:603) at org.eclipse.e4.ui.internal.workbench.PartActivationHistory.activate(PartActivationHistory.java:52) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImpl.java:560) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImpl.java:531) at org.eclipse.e4.ui.internal.workbench.swt.AbstractPartRenderer.activate(AbstractPartRenderer.java:105) at org.eclipse.e4.ui.workbench.renderers.swt.StackRenderer$ActivationJob.run(StackRenderer.java:176) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3945) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3622) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:999) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:893) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:85) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:577) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:532) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at com.lgc.pe.client.e3x.PowerExplorerApplication.start(PowerExplorerApplication.java:101) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:352) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:624) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:579) at org.eclipse.equinox.launcher.Main.run(Main.java:1433) at org.eclipse.equinox.launcher.Main.main(Main.java:1409),bundles/org.eclipse.e4.ui.css.swt/src/org/eclipse/e4/ui/css/swt/properties/custom/CSSPropertyCornerRadiusSWTHandler.java bundles/org.eclipse.e4.ui.css.swt/src/org/eclipse/e4/ui/css/swt/properties/custom/CSSPropertyInnerKeylineSWTHandler.java bundles/org.eclipse.e4.ui.css.swt/src/org/eclipse/e4/ui/css/swt/properties/custom/CSSPropertyOuterKeylineSWTHandler.java bundles/org.eclipse.e4.ui.css.swt/src/org/eclipse/e4/ui/css/swt/properties/custom/CSSPropertyShadowColorHandler.java bundles/org.eclipse.e4.ui.css.swt/src/org/eclipse/e4/ui/css/swt/properties/custom/CSSPropertyShadowVisibleSWTHandler.java bundles/org.eclipse.e4.ui.css.swt/src/org/eclipse/e4/ui/css/swt/properties/custom/CSSPropertyUnselectedTabsSWTHandler.java bundles/org.eclipse.e4.ui.css.swt/src/org/eclipse/e4/ui/css/swt/properties/custom/CSSPropertye4SelectedTabFillHandler.java bundles/org.eclipse.e4.ui.css.swt/src/org/eclipse/e4/ui/css/swt/properties/custom/CSSPropertye4TabOutline.java
Bug 376254 Create new model Add-on HandlerProcessingAddon to replace calling E4Workbench.processHierarchy,"Beside adding content to the Workbench Model via Fragments or Modell Processors i am potentially also able to do it completely programmatically by using Factories e.g in a postConstruct-Method of part. Sample: @PostConstruct private void postConstruct(MApplication application MTrimmedWindow trimmedWindow) { // Command erzeugen MCommand exitCommand = MCommandsFactory.INSTANCE.createCommand(); exitCommand.setElementId(""net.teufel.e4.helloworld.exitCommand""); exitCommand.setCommandName(""ExitCommand""); application.getCommands().add(exitCommand); // Handler erzeugen MHandler exitHandler = MCommandsFactory.INSTANCE.createHandler(); exitHandler.setElementId(""net.teufel.e4.helloworld.handlers.exitHandler""); exitHandler.setContributionURI(""bundleclass://net.teufel.e4.helloworld.ui/net.teufel.e4.helloworld.handlers.ExitHandler""); exitHandler.setCommand(exitCommand); application.getHandlers().add(exitHandler); // Toolbar erzeugen MToolBar myToolbar = MMenuFactory.INSTANCE.createToolBar(); MHandledToolItem exitToolItem=MMenuFactory.INSTANCE.createHandledToolItem(); exitToolItem.setElementId(""net.teufel.e4.helloworld.toolitems.exitToolItem""); exitToolItem.setLabel(""Beenden""); exitToolItem.setIconURI(""platform:/plugin/net.teufel.e4.helloworld.ui/icons/door_out.png""); exitToolItem.setCommand(exitCommand); exitToolItem.setEnabled(true); myToolbar.getChildren().add(exitToolItem); // Trimbar erzeugen und zum Fenster hinzufuegen MTrimBar myTrimBar = MBasicFactory.INSTANCE.createTrimBar(); myTrimBar.getChildren().add(myToolbar); trimmedWindow.getTrimBars().add(myTrimBar); //E4Workbench.processHierarchy(application); } My problem is the following: When creating this toolbar manually I need to call E4Workbench.processHierarchy (the last commented line in the code) manually in order to get the toolbar enabled. Otherwise it stays disabled. Is it really necessary to call processHierarchy each time when i do manual changes in the model?",bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/internal/workbench/swt/PartRenderingEngine.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/E4Workbench.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/addons/HandlerProcessingAddon.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/Workbench.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/application/Bug320857Test.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/application/EPartServiceTest.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/application/ESelectionServiceTest.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/application/HeadlessApplicationTest.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/workbench/MMenuItemTest.java
Bug 372844 5 test failures in I20120228-2200,Broken by b2cb908e226851e81f06a7b15f0af0ed9e210a8c. java.lang.NullPointerException at org.eclipse.e4.ui.workbench.renderers.swt.ToolBarManagerRenderer.createWidget(ToolBarManagerRenderer.java:280) at org.eclipse.e4.ui.menu.tests.MToolItemTest.testActionSetAddedToFile(MToolItemTest.java:116) java.lang.NullPointerException at org.eclipse.e4.ui.workbench.renderers.swt.ToolBarManagerRenderer.createWidget(ToolBarManagerRenderer.java:280) at org.eclipse.e4.ui.menu.tests.MToolItemTest.testActionSetAddedToMyToolbar(MToolItemTest.java:181),bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/ToolBarManagerRenderer.java tests/org.eclipse.e4.ui.menu.tests/src/org/eclipse/e4/ui/menu/tests/TestUtil.java
Bug 375762 child scheme keybindings that 'conflict' with parent scheme are not enabled,"Build Identifier: 20120322-1740 In 3.x the doc for the org.eclipse.ui.bindings includes the following statement: ""It is possible for schemes to inherit bindings from a parent scheme. This is intended to make it easier for plug-in developers to create customized binding sets. An active binding defined in a child scheme will always override an active binding in a parent scheme if they have the same trigger. "" I define a child scheme of org.eclipse.ui.emacsAccelatorConfiguration <scheme description=""%emacsplus.scheme.description"" id=""com.mulgasoft.emacsplusConfiguration"" name=""%emacsplus.scheme.name"" parentId=""org.eclipse.ui.emacsAcceleratorConfiguration""/> However all key bindings that should override instead cause the Key Assist Dialog to pop up with my binding and the binding in emacs emacsA.... scheme on invocation. No conflicts are reported in the .log file or in the Keys window. This mechanism worked in 3.x but not in e4. My command handler is defined correctly and is callable through my M-x mechansim. Also I'm unable to locate the corresponding bindings documentation specific to the e4 platform Reproducible: Always",bundles/org.eclipse.e4.ui.bindings/src/org/eclipse/e4/ui/bindings/internal/BindingTableManager.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/keys/BindingService.java
"Bug 385592 Working Set ""Window Working Set"" not persisted across sessions","Build Identifier: 20120614-1722 If you select for the ""navigator"" or ""package view"" as the ""Working Set"" the option ""Window Working Set"" you can easily switch the view's contents by using the ""Modify window working set"" button. But if you quit and restart the eclipse IDE these configuration is lost and you have to reconfigure it after every restart (4.2 Juno). In eclipse 3.7.2 these settings are correctly memorized by the IDE but in 4.2 the persistence for this feature does not work. Reproducible: Always Steps to Reproduce: 1. Create Working Sets. Configure the Navigator and Package View to use the ""Window Working Set"" Switch between Working Sets by using the ""Modify window working set"" button to ensure that it is working as exspected. 2. End the IDE. Restart the IDE. 3. Try again to switch between Working Sets by using the ""Modify window working set"".",bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchPage.java tests/org.eclipse.ui.tests/Eclipse UI Tests/org/eclipse/ui/tests/api/IWorkbenchPageTest.java
Bug 385414 Contributing wizards to toolbar always displays icon and text,"Build Identifier: 20120614-1722 plugin.xml: <extension point=""org.eclipse.ui.menus""> <menuContribution locationURI=""toolbar:org.eclipse.ui.workbench.file""> <command commandId=""org.eclipse.ui.newWizard"" style=""push""> <parameter name=""newWizardId"" value=""com.fabasoft.apptest.ui.wizards.newproject"" /> </command> </menuContribution> </extension> The button is always displayed with icon and text. Works fine in 3.7 Reproducible: Always Steps to Reproduce: 1. see details 2. 3.",bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/DirectContributionItem.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/HandledContributionItem.java
Bug 365975 org.eclipse.ui.menus contribution behaves differently on 3.7 and 4.2,"Build Identifier: 4.2 I20111206-1015 A contribution like this behaves differently on 3.7 and 4.2: <extension point=""org.eclipse.ui.menus""> <menuContribution allPopups=""false"" locationURI=""toolbar:org.eclipse.ui.main.toolbar""> <toolbar id=""com.example.addressbook.toolbar1""> <command commandId=""org.eclipse.ui.file.save"" style=""push""> </command> <command commandId=""org.eclipse.ui.file.exit"" style=""push""> </command> </toolbar> </menuContribution> <menuContribution allPopups=""true"" locationURI=""popup:org.eclipse.ui.popup.any""> <command commandId=""org.eclipse.ui.edit.delete"" style=""push""> <visibleWhen checkEnabled=""false""> <with variable=""selection""> <iterate ifEmpty=""false"" operator=""and""> <instanceof value=""com.example.addressbook.Country""> </instanceof> </iterate> </with> </visibleWhen> </command> </menuContribution> </extension> - On 3.7 the save command will be disabled because no savable part is open on 4.2 the save command is activated and when clicked it throws: !MESSAGE The proxied handler for 'org.eclipse.ui.internal.handlers.SaveHandler' could not be loaded !STACK 1 org.eclipse.core.runtime.CoreException: Plug-in org.eclipse.ui was unable to load class org.eclipse.ui.internal.handlers.SaveHandler. at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.throwException(RegistryStrategyOSGI.java:194) at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:176) at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:905) at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243) at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:55) at org.eclipse.ui.internal.handlers.HandlerProxy.loadHandler(HandlerProxy.java:350) at org.eclipse.ui.internal.handlers.HandlerProxy.setEnabled(HandlerProxy.java:230) at org.eclipse.ui.internal.handlers.E4HandlerProxy.canExecute(E4HandlerProxy.java:50) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:56) at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:228) at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:209) at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:123) at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.canExecute(HandlerServiceImpl.java:108) at org.eclipse.e4.ui.workbench.renderers.swt.HandledContributionItem.canExecuteItem(HandledContributionItem.java:731) at org.eclipse.e4.ui.workbench.renderers.swt.HandledContributionItem.access$1(HandledContributionItem.java:720) at org.eclipse.e4.ui.workbench.renderers.swt.HandledContributionItem$2.run(HandledContributionItem.java:178) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.e4.ui.workbench.renderers.swt.HandledContributionItem.updateItemEnablement(HandledContributionItem.java:205) at org.eclipse.e4.ui.workbench.renderers.swt.HandledContributionItem$ToolItemUpdateTimer.run(HandledContributionItem.java:123) at org.eclipse.swt.widgets.Display.runTimers(Display.java:4107) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3605) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:977) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:893) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:91) at org.eclipse.ui.internal.Workbench$3.run(Workbench.java:565) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:520) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at com.example.addressbook.Application.start(Application.java:20) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:352) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:624) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:579) at org.eclipse.equinox.launcher.Main.run(Main.java:1433) at org.eclipse.equinox.launcher.Main.main(Main.java:1409) Caused by: java.lang.ClassNotFoundException: org.eclipse.ui.internal.handlers.SaveHandler at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:501) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:421) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:412) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107) at java.lang.ClassLoader.loadClass(ClassLoader.java:247) at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:340) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:229) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1212) at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:174) ... 45 more - On 4.2 when opening the popup menu the first time the command will be shown two times (see screenshot). Reproducible: Always Steps to Reproduce: 1. Import the attached example project. 2. Run the included product (adding equinox.concurrent/equinox.event + all required bundles manually in the run configuration) 3. See/click the save button in the toolbar. 4. Click the table viewer in the view on the left.",bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/AbstractSaveHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/DirtyStateTracker.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/DynamicHelpHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/HelpContentsHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/HelpSearchHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/IntroHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/LockToolBarHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/SaveAsHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/SpyHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/testing/ContributionInfoMessages.java
Bug 377981 -perspective at product program arguments is not working in 4.2M6,Build Identifier: 4.2 M6 The program arguments of the product configuration of my project has this: -perspective myDefaultPerspective But after start the runtime the perspective that appears is Resource. This works properly in Eclipse Indigo. Reproducible: Always Steps to Reproduce: 1. create a product configuration and add -perspective <your perspective> 2. use as product: org.eclipse.platform.ide 3. use as Application: org.eclipse.ui.ide.workbench,bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/PerspectiveStackRenderer.java bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/internal/workbench/swt/E4Application.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/CommandLineOptionModelProcessor.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/E4Workbench.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/ResourceHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchWindow.java
Bug 375826 No SWT.Show event on selecting a menu from the RCP workbench,Build Identifier: 4.2.0.v20120315-1300 We the Jubula team currently check the compatibility of testing 3.x applications / plugins with e4.2 + compatibility layer and noticed that we have problems accessing menus from the Workbench and toolbar: the items / framework do not fire the SWT.Show event anymore. To correctly synchronize with the application we make use of global filters via Display.addFilter() and SWT.Show events for menus when e.g. remote controlling those. We are using this event to check if items from the menu are shown (e.g. after a click on the menu) but for RCP workbench menus and toolbar items with sub menus these events do no longer get fired / propagated. This results in the problem of not being able to detect that the menu has been opened successfully and hence cannot correctly test the workbench and toolbar item menus at all. Does the new 4.2 UI use other events or are we missing something here? Reproducible: Always,bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/MenuManagerHideProcessor.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/MenuManagerRenderer.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/MenuManagerRendererFilter.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/MenuManagerShowProcessor.java bundles/org.eclipse.jface/src/org/eclipse/jface/action/MenuManager.java bundles/org.eclipse.jface/src/org/eclipse/jface/internal/MenuManagerEventHelper.java
"Bug 371100 ""IllegalArgumentException: Widget has the wrong parent"" if use showPart-Method on unvisible Part","Build Identifier: I20120127-1145 I have a Part declared as unvisible in the aplication model file ""application.e4xmi"" in the part i declare an Selectionlistner per DI. Example: @Inject public void setTodo(@Optional @Named(IServiceConstants.ACTIVE_SELECTION) Todo obj { ... } if i use the showPart(...)-Method from the EPartService to set the unvisible part visible the part will not show ui elements. next i fire a selection event which is targeted to the listener in the part i got the following Error Stacktrace. java.lang.IllegalArgumentException: Widget has the wrong parent at org.eclipse.swt.SWT.error(SWT.java:4281) at org.eclipse.swt.SWT.error(SWT.java:4215) at org.eclipse.swt.SWT.error(SWT.java:4186) at org.eclipse.e4.ui.widgets.CTabItem.setControl(CTabItem.java:284) at org.eclipse.e4.ui.workbench.renderers.swt.StackRenderer.createTab(StackRenderer.java:574) at org.eclipse.e4.ui.workbench.renderers.swt.StackRenderer.childRendered(StackRenderer.java:624) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:640) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:718) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.access$2(PartRenderingEngine.java:689) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$7.run(PartRenderingEngine.java:683) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createGui(PartRenderingEngine.java:668) at org.eclipse.e4.ui.workbench.renderers.swt.StackRenderer.showTab(StackRenderer.java:803) at org.eclipse.e4.ui.workbench.renderers.swt.LazyStackRenderer$1.handleEvent(LazyStackRenderer.java:66) at org.eclipse.e4.ui.services.internal.events.UIEventHandler$1.run(UIEventHandler.java:41) workaround is to use the Method setVisible(...) at the Part-object to set the isVisible flag in the Model just before i call showPart(...). Example: MPart part = pService.findPart(...); if (part != null ) { part.setVisible(true); pService.showPart(part PartState.VISIBLE); } with the setVisible(...) Method everything works fine. Reproducible: Always Steps to Reproduce: 1. create a unvisible Part in the Model 2. create a class for the Part with a selectionlistener (for example active selection) per DI 3. make the part visible in a SelectionAdapter implementation of a button for example (the gui of the part shouldn't display) 4. fire a selectionevent to test the selectionlistener. 5. the error occurs if the event is fired.",bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/StackRenderer.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/workbench/PartRenderingEngineTests.java
Bug 370808 editor right / left buttons tooltip is missing,Build Identifier: I20120127-1145 Refer to attached screenshot for more info (buttons are marked red) Reproducible: Always,bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/internal/workbench/renderers/swt/SWTRenderersMessages.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/StackRenderer.java
Bug 376821 Request specific framework event that ends the startup process,Build Identifier: I20120315-1300 A specific framework event should be fired after the startup process has been completed (i.e. to hide a costum splash screen). This could be an UIEvent or part of the lifecycle handler. Reproducible: Always,bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/internal/workbench/swt/PartRenderingEngine.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/UIEvents.java
Bug 365181 [Workbench] XMLMemento method to enumerate all child nodes,Build Identifier: It would be great to have a method getChildren() that enumerates all children of a node. Something like: public IMemento[] getChildren() { final List<IMemento> result = new LinkedList<IMemento>(); // Get the nodes. final NodeList nodes = element.getChildNodes(); final int size = nodes.getLength(); if (size == 0) { return new IMemento[0]; } // Extract each node with given type. for (int nX = 0; nX < size; nX++) { final Node node = nodes.item(nX); if (node instanceof Element) result.add(new EnhancedXMLMemento(factory (Element) node)); } return result.toArray(new IMemento[result.size()]); } Reproducible: Always,bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/IMemento.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/XMLMemento.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/util/ConfigurationElementMemento.java tests/org.eclipse.ui.tests/Eclipse UI Tests/org/eclipse/ui/tests/internal/TestMemento.java
Bug 385795 [TabbedProperties] Need support for changing color of a tab-label and displaying dynamic images on a tab in Tabbed Properties View,Build Identifier: Latest release / Juno The Eclipse Tabbed Properties Framework does not support tab-decorations i.e. dynamic images on tabs or dynamically changing color of a tab label. Tab labels are always displayed in black-color. An image can be added to a tab using propertyTabs extension in plugin.xml; the image is displayed when the tab is in selected state otherwise it is not displayed. But the image is not dynamic enough because one cannot programatically control whether an image should be displayed or not. This fix can be used to improve usability of tabbed properties UI because tab-decorations can be used to convey at a glance information about current state of UI on a tab. The fix should make a provision for possibly setting different number of images for different tabs. Reproducible: Always,bundles/org.eclipse.ui.views.properties.tabbed/src/org/eclipse/ui/internal/views/properties/tabbed/view/TabbedPropertyList.java bundles/org.eclipse.ui.views.properties.tabbed/src/org/eclipse/ui/views/properties/tabbed/TabbedPropertySheetPage.java tests/org.eclipse.ui.tests.views.properties.tabbed/src/org/eclipse/ui/tests/views/properties/tabbed/AllTests.java tests/org.eclipse.ui.tests.views.properties.tabbed/src/org/eclipse/ui/tests/views/properties/tabbed/TabbedPropertySheetPageDecorationsTest.java tests/org.eclipse.ui.tests.views.properties.tabbed/src/org/eclipse/ui/tests/views/properties/tabbed/TabbedPropertySheetPageTest.java tests/org.eclipse.ui.tests.views.properties.tabbed/src/org/eclipse/ui/tests/views/properties/tabbed/decorations/TabbedPropertySheetPageWithDecorations.java tests/org.eclipse.ui.tests.views.properties.tabbed/src/org/eclipse/ui/tests/views/properties/tabbed/decorations/views/DecorationTestsView.java tests/org.eclipse.ui.tests.views.properties.tabbed/src/org/eclipse/ui/tests/views/properties/tabbed/views/TestsView.java
Bug 385394 Performance issue regarding enabled state handling for menuContributions containing command (ToolItemUpdateTimer puts constant load on CPU),"Build Identifier: Version: 4.2.0 Build id: I20120608-1400 Hi colleagues we are using toolbar menu contributions pointing to a command like in following example: <extension point=""org.eclipse.ui.menus""> <menuContribution locationURI=""toolbar:mytoolbar""> <command commandId=""mycommand"" ... Our handler implementation of the command overrides the methods setEnabled and isEnabled to calculate the enabled state of the toolbar entry. This implementation is not very efficient and can take some time (backend calls needed). We had no problems with this implementation in eclipse 3.7. With Eclipse 4.2 we are now running into performance problems; it looks like that the setEnabled method is called all 400 ms which looks very strange. Why is this method called so often? Is there another mechanism/possibility in Eclipse 4.2 to contribute toolbar menu entries where the setEnabled method is called only then when it is necessary (when current focus/selection/part is changed)? With best regards Tobias Reproducible: Always",bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/HandledContributionItem.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/MenuManagerRenderer.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/ToolBarContributionRecord.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/ToolBarManagerRenderer.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/ToolItemUpdater.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchWindow.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/services/EvaluationService.java
Bug 400829 [DND] NPE and hang during dragging,BuildId: I20130205-0800 (4.3M5) Attempting to drag a view into a separate stack resulted in an app hang and partial global UI hang -- I could switch out using Ctrl-Tab into a terminal window where I was able to kill Eclipse and recover the UI. This has happened to me on a few previous occasions but it's not an everyday occurrence. !ENTRY org.eclipse.ui 4 0 2013-02-14 11:50:51.869 !MESSAGE Unhandled event loop exception !STACK 0 java.lang.NullPointerException at org.eclipse.e4.ui.workbench.addons.dndaddon.SplitFeedbackOverlay.defineRegion(SplitFeedbackOverlay.java:108) at org.eclipse.e4.ui.workbench.addons.dndaddon.SplitFeedbackOverlay.setFeedback(SplitFeedbackOverlay.java:138) at org.eclipse.e4.ui.workbench.addons.dndaddon.SplitDropAgent.track(SplitDropAgent.java:195) at org.eclipse.e4.ui.workbench.addons.dndaddon.DragAgent.track(DragAgent.java:112) at org.eclipse.e4.ui.workbench.addons.dndaddon.DnDManager$4.run(DnDManager.java:186) at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:180) at org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:150) at org.eclipse.swt.widgets.Display.syncExec(Display.java:4454) at org.eclipse.e4.ui.workbench.addons.dndaddon.DnDManager.track(DnDManager.java:183) at org.eclipse.e4.ui.workbench.addons.dndaddon.DnDManager.access$1(DnDManager.java:182) at org.eclipse.e4.ui.workbench.addons.dndaddon.DnDManager$6.handleEvent(DnDManager.java:218) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1392) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1416) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1401) at org.eclipse.swt.widgets.Tracker.gtk_mouse(Tracker.java:623) at org.eclipse.swt.widgets.Tracker.gtk_motion_notify_event(Tracker.java:552) at org.eclipse.swt.widgets.Tracker.processEvent(Tracker.java:807) at org.eclipse.swt.widgets.Display.eventProc(Display.java:1239) at org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method) at org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:2281) at org.eclipse.swt.widgets.Shell.setVisible(Shell.java:2153) at org.eclipse.e4.ui.workbench.addons.dndaddon.SplitFeedbackOverlay.<init>(SplitFeedbackOverlay.java:51) at org.eclipse.e4.ui.workbench.addons.dndaddon.SplitDropAgent.showFeedback(SplitDropAgent.java:284) at org.eclipse.e4.ui.workbench.addons.dndaddon.SplitDropAgent.track(SplitDropAgent.java:207) at org.eclipse.e4.ui.workbench.addons.dndaddon.DragAgent.track(DragAgent.java:112) at org.eclipse.e4.ui.workbench.addons.dndaddon.DnDManager$4.run(DnDManager.java:186) at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:180) at org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:150) at org.eclipse.swt.widgets.Display.syncExec(Display.java:4454) at org.eclipse.e4.ui.workbench.addons.dndaddon.DnDManager.track(DnDManager.java:183) at org.eclipse.e4.ui.workbench.addons.dndaddon.DnDManager.access$1(DnDManager.java:182) at org.eclipse.e4.ui.workbench.addons.dndaddon.DnDManager$6.handleEvent(DnDManager.java:218) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1392) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1416) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1401) at org.eclipse.swt.widgets.Tracker.gtk_mouse(Tracker.java:623) at org.eclipse.swt.widgets.Tracker.gtk_motion_notify_event(Tracker.java:552) at org.eclipse.swt.widgets.Tracker.processEvent(Tracker.java:807) at org.eclipse.swt.widgets.Display.eventProc(Display.java:1239) at org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method) at org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:2281) at org.eclipse.swt.widgets.Tracker.open(Tracker.java:781) at org.eclipse.e4.ui.workbench.addons.dndaddon.DnDManager.startDrag(DnDManager.java:230) at org.eclipse.e4.ui.workbench.addons.dndaddon.DnDManager$1.dragDetected(DnDManager.java:88) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:127) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1392) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3705) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3326) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1057) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:941) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:79) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:588) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:543) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:616) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591) at org.eclipse.equinox.launcher.Main.run(Main.java:1450) at org.eclipse.equinox.launcher.Main.main(Main.java:1426),bundles/org.eclipse.e4.ui.workbench.addons.swt/src/org/eclipse/e4/ui/workbench/addons/dndaddon/SplitDropAgent.java bundles/org.eclipse.e4.ui.workbench.addons.swt/src/org/eclipse/e4/ui/workbench/addons/dndaddon/SplitFeedbackOverlay.java
Bug 405562 Save All saves only the selected Saveables in a ISaveablePart,"Clicking on ""Save All"" saves only the selected resource in the project explorer(and other SaveableSources). WorkbenchPage.saveAllEditors(boolean boolean) calls EPartService.savePart(MPart boolean) which doesn't save all dirty resources.",bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/WBWRenderer.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/PartServiceImpl.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/PartServiceSaveHandler.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/ISaveHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/SaveAction.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/SaveableHelper.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/Workbench.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchPage.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchWindow.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/SaveAllHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/SaveHandler.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/application/EPartServiceTest.java tests/org.eclipse.ui.tests/Eclipse UI Tests/org/eclipse/ui/tests/api/APITestUtils.java
Bug 404596 The Display should be in the context before PostContextCreate is called,Currently the Display isn't added to the context until after workbench.createAndRunUI() is called. Thus you are unable to use the Display with any of the workbench lifecycle hooks such as PostContextCreate. (Calling Display.getDefault() isn't very clean and at some point could introduce bugs.) Furthermore resources such as Realm & UISynchronize which depend on Display are available in the context before PostContextCreate is invoked. After the default context is created the workbench Display should be placed into the context before any dependent resources are.,bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/internal/workbench/swt/E4Application.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/Workbench.java
Bug 378332 Toggle Full Screen command should work with the fullscreen button in title bar,Eclipse 4.2 I20120502-1800 The Toggle Full Screen command doesn't seem to work in combination with the Full Screen button in the title bar. This happens both when trying to enter and exit fullscreen mode. Steps to reproduce: 1. In the IDE click on the fullscreen button on title bar to enter fullscreen mode. 2. Click on the Toggle Full Screen menu item or press Cmd+Ctrl+F to return to normal mode. This doesn't work. 3. Clicking on the menu item again works. It also happens when trying to enter fullscreen mode: 1. Click on Toggle Full Screen menu item to enter fullscreen mode. 2. exit fullscreen mode using the exit fullscreen button on the right of the menu bar. 3. Now try to enter fullscreen mode again using menu item or Cmd+Ctrl+F shortcut. This doesn't work. 4. Trying again using menuitem or the shortcut works. I tried this with Mail and Xcode and it works there.,bundles/org.eclipse.e4.ui.workbench.renderers.swt.cocoa/src/org/eclipse/e4/ui/workbench/renderers/swt/cocoa/CocoaUIHandler.java bundles/org.eclipse.e4.ui.workbench.renderers.swt.cocoa/src/org/eclipse/e4/ui/workbench/renderers/swt/cocoa/FullscreenWindowHandler.java
Bug 399831 Many broken shortcuts in multi-page editors,"First - it's neither SpringSource Tool Suite nor WTP's fault. I've upgraded from 4.3m4 to 4.3m5 (and few days earlier to some I-build) and in XML Editors (HTML Editors are fine) I can't use many shortcuts such as: Delete line (CTRL+D) move line up/down (ALT+up/down) or duplicate line up/down (ALT+CTRL+up/down). I've not upgraded WTP - just Eclipse SDK. Key bindings are OK. E.g. CTRL+D is in ""Editing Text"" - that's why I chose ""Component = Text"" regards Grzegorz Grzybek",bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/KeyBindingService.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/handlers/LegacyHandlerService.java
Bug 413529 Fix compiler warnings in org.eclipse.jface.action caused by moving JFace to Java 1.5,Fix the compiler warnings in package org.eclipse.jface.action caused by moving to Java 1.5,bundles/org.eclipse.jface/src/org/eclipse/jface/action/Action.java bundles/org.eclipse.jface/src/org/eclipse/jface/action/ContributionManager.java bundles/org.eclipse.jface/src/org/eclipse/jface/action/CoolBarManager.java bundles/org.eclipse.jface/src/org/eclipse/jface/action/ExternalActionManager.java bundles/org.eclipse.jface/src/org/eclipse/jface/action/LegacyActionTools.java bundles/org.eclipse.jface/src/org/eclipse/jface/action/MenuManager.java bundles/org.eclipse.jface/src/org/eclipse/jface/action/SubContributionManager.java bundles/org.eclipse.jface/src/org/eclipse/jface/action/SubMenuManager.java bundles/org.eclipse.jface/src/org/eclipse/jface/action/ToolBarContributionItem.java bundles/org.eclipse.jface/src/org/eclipse/jface/action/ToolBarManager.java
Bug 413624 Fix compiler warnings in org.eclipse.jface.dialogs caused by moving JFace to Java 1.5,Fix the compiler warnings in package org.eclipse.jface.dialogs caused by moving to Java 1.5,bundles/org.eclipse.jface/src/org/eclipse/jface/dialogs/ControlEnableState.java bundles/org.eclipse.jface/src/org/eclipse/jface/dialogs/Dialog.java bundles/org.eclipse.jface/src/org/eclipse/jface/dialogs/DialogSettings.java bundles/org.eclipse.jface/src/org/eclipse/jface/dialogs/ErrorDialog.java bundles/org.eclipse.jface/src/org/eclipse/jface/dialogs/PopupDialog.java
Bug 413628 Fix compiler warnings in org.eclipse.jface.fieldassist caused by moving JFace to Java 1.5,Fix the compiler warnings in package org.eclipse.jface.fieldassist caused by moving to Java 1.5,bundles/org.eclipse.jface/src/org/eclipse/jface/fieldassist/ContentProposalAdapter.java bundles/org.eclipse.jface/src/org/eclipse/jface/fieldassist/FieldAssistColors.java bundles/org.eclipse.jface/src/org/eclipse/jface/fieldassist/FieldDecorationRegistry.java bundles/org.eclipse.jface/src/org/eclipse/jface/fieldassist/SimpleContentProposalProvider.java
Bug 413685 Fix compiler warnings in org.eclipse.jface.preference caused by moving JFace to Java 1.5,Fix the compiler warnings in package org.eclipse.jface.preference caused by moving to Java 1.5,bundles/org.eclipse.jface/src/org/eclipse/jface/preference/FieldEditorPreferencePage.java bundles/org.eclipse.jface/src/org/eclipse/jface/preference/PathEditor.java bundles/org.eclipse.jface/src/org/eclipse/jface/preference/PreferenceDialog.java bundles/org.eclipse.jface/src/org/eclipse/jface/preference/PreferenceManager.java bundles/org.eclipse.jface/src/org/eclipse/jface/preference/PreferenceNode.java bundles/org.eclipse.jface/src/org/eclipse/jface/preference/PreferenceStore.java
Bug 413686 Fix compiler warnings in org.eclipse.jface.resource caused by moving JFace to Java 1.5,Fix the compiler warnings in package org.eclipse.jface.resource caused by moving to Java 1.5,bundles/org.eclipse.jface/src/org/eclipse/jface/resource/AbstractResourceManager.java bundles/org.eclipse.jface/src/org/eclipse/jface/resource/ColorRegistry.java bundles/org.eclipse.jface/src/org/eclipse/jface/resource/FileImageDescriptor.java bundles/org.eclipse.jface/src/org/eclipse/jface/resource/FontRegistry.java bundles/org.eclipse.jface/src/org/eclipse/jface/resource/ImageDescriptor.java bundles/org.eclipse.jface/src/org/eclipse/jface/resource/ImageRegistry.java bundles/org.eclipse.jface/src/org/eclipse/jface/resource/JFaceResources.java bundles/org.eclipse.jface/src/org/eclipse/jface/resource/ResourceManager.java bundles/org.eclipse.jface/src/org/eclipse/jface/resource/ResourceRegistry.java bundles/org.eclipse.jface/src/org/eclipse/jface/resource/StringConverter.java
Bug 413688 Fix compiler warnings in org.eclipse.jface.util caused by moving JFace to Java 1.5,Fix the compiler warnings in package org.eclipse.jface.util caused by moving to Java 1.5,bundles/org.eclipse.jface/src/org/eclipse/jface/util/BidiUtils.java bundles/org.eclipse.jface/src/org/eclipse/jface/util/DelegatingDragAdapter.java bundles/org.eclipse.jface/src/org/eclipse/jface/util/DelegatingDropAdapter.java bundles/org.eclipse.jface/src/org/eclipse/jface/util/Policy.java bundles/org.eclipse.jface/src/org/eclipse/jface/util/SafeRunnableDialog.java bundles/org.eclipse.jface/src/org/eclipse/jface/util/Util.java
Bug 413689 Fix the compiler warnings in package org.eclipse.jface.window caused by moving to Java 1.5,Fix the compiler warnings in package org.eclipse.jface.window caused by moving to Java 1.5,bundles/org.eclipse.jface/src/org/eclipse/jface/window/ToolTip.java bundles/org.eclipse.jface/src/org/eclipse/jface/window/Window.java bundles/org.eclipse.jface/src/org/eclipse/jface/window/WindowManager.java
Bug 413690 Fix the compiler warnings in package org.eclipse.jface.wizard caused by moving to Java 1.5,Fix the compiler warnings in package org.eclipse.jface.wizard caused by moving to Java 1.5,bundles/org.eclipse.jface/src/org/eclipse/jface/wizard/Wizard.java bundles/org.eclipse.jface/src/org/eclipse/jface/wizard/WizardDialog.java bundles/org.eclipse.jface/src/org/eclipse/jface/wizard/WizardSelectionPage.java
Bug 388974 Move the org.eclipse.ui.tutorials.rcp.part* projects to examples,I cloned repo git://git.eclipse.org/gitroot/platform/eclipse.platform.ui.git and then imported all projects from the bundles folder. In the runtime workbench the first time I tried to cut some text the workbench just quit. After wasting some time to find the bug I discovered that the org.eclipse.ui.tutorials.rcp.part* projects are in the wrong folder. They must be moved away (e.g. into the examples folder) since normal work is not possible when these bundles are in the workspace.,bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/R21BasicStackPresentation.java bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/R21EditorStackPresentation.java bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/R21PresentationFactory.java bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/R21ViewStackPresentation.java bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/r21/R21Colors.java bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/r21/R21PresentationMessages.java bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/r21/R21PresentationPlugin.java bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/r21/widgets/CTabFolder.java bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/r21/widgets/CTabFolderEvent.java bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/r21/widgets/CTabFolderListener.java bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/r21/widgets/CTabItem.java bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/r21/widgets/R21PaneFolder.java bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/r21/widgets/R21PaneFolderButtonListener.java bundles/org.eclipse.ui.presentations.r21/src/org/eclipse/ui/internal/presentations/r21/widgets/ViewForm.java bundles/org.eclipse.ui.tutorials.rcp.part1/src/org/eclipse/ui/tutorials/rcp/part1/Application.java bundles/org.eclipse.ui.tutorials.rcp.part1/src/org/eclipse/ui/tutorials/rcp/part1/ApplicationActionBarAdvisor.java bundles/org.eclipse.ui.tutorials.rcp.part1/src/org/eclipse/ui/tutorials/rcp/part1/ApplicationWorkbenchAdvisor.java bundles/org.eclipse.ui.tutorials.rcp.part1/src/org/eclipse/ui/tutorials/rcp/part1/ApplicationWorkbenchWindowAdvisor.java bundles/org.eclipse.ui.tutorials.rcp.part1/src/org/eclipse/ui/tutorials/rcp/part1/Part1Plugin.java bundles/org.eclipse.ui.tutorials.rcp.part1/src/org/eclipse/ui/tutorials/rcp/part1/Perspective.java bundles/org.eclipse.ui.tutorials.rcp.part2/src/org/eclipse/ui/tutorials/rcp/part2/Application.java bundles/org.eclipse.ui.tutorials.rcp.part2/src/org/eclipse/ui/tutorials/rcp/part2/ApplicationActionBarAdvisor.java bundles/org.eclipse.ui.tutorials.rcp.part2/src/org/eclipse/ui/tutorials/rcp/part2/ApplicationWorkbenchAdvisor.java bundles/org.eclipse.ui.tutorials.rcp.part2/src/org/eclipse/ui/tutorials/rcp/part2/ApplicationWorkbenchWindowAdvisor.java bundles/org.eclipse.ui.tutorials.rcp.part2/src/org/eclipse/ui/tutorials/rcp/part2/Part2Plugin.java bundles/org.eclipse.ui.tutorials.rcp.part2/src/org/eclipse/ui/tutorials/rcp/part2/Perspective.java bundles/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/Application.java bundles/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/ApplicationActionBarAdvisor.java bundles/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/ApplicationWorkbenchAdvisor.java bundles/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/ApplicationWorkbenchWindowAdvisor.java bundles/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/ICommandIds.java bundles/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/MessagePopupAction.java bundles/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/NavigationView.java bundles/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/OpenViewAction.java bundles/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/Part3Plugin.java bundles/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/Perspective.java bundles/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/View.java examples/org.eclipse.ui.tutorials.rcp.part1/src/org/eclipse/ui/tutorials/rcp/part1/Application.java examples/org.eclipse.ui.tutorials.rcp.part1/src/org/eclipse/ui/tutorials/rcp/part1/ApplicationActionBarAdvisor.java examples/org.eclipse.ui.tutorials.rcp.part1/src/org/eclipse/ui/tutorials/rcp/part1/ApplicationWorkbenchAdvisor.java examples/org.eclipse.ui.tutorials.rcp.part1/src/org/eclipse/ui/tutorials/rcp/part1/ApplicationWorkbenchWindowAdvisor.java examples/org.eclipse.ui.tutorials.rcp.part1/src/org/eclipse/ui/tutorials/rcp/part1/Part1Plugin.java examples/org.eclipse.ui.tutorials.rcp.part1/src/org/eclipse/ui/tutorials/rcp/part1/Perspective.java examples/org.eclipse.ui.tutorials.rcp.part2/src/org/eclipse/ui/tutorials/rcp/part2/Application.java examples/org.eclipse.ui.tutorials.rcp.part2/src/org/eclipse/ui/tutorials/rcp/part2/ApplicationActionBarAdvisor.java examples/org.eclipse.ui.tutorials.rcp.part2/src/org/eclipse/ui/tutorials/rcp/part2/ApplicationWorkbenchAdvisor.java examples/org.eclipse.ui.tutorials.rcp.part2/src/org/eclipse/ui/tutorials/rcp/part2/ApplicationWorkbenchWindowAdvisor.java examples/org.eclipse.ui.tutorials.rcp.part2/src/org/eclipse/ui/tutorials/rcp/part2/Part2Plugin.java examples/org.eclipse.ui.tutorials.rcp.part2/src/org/eclipse/ui/tutorials/rcp/part2/Perspective.java examples/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/Application.java examples/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/ApplicationActionBarAdvisor.java examples/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/ApplicationWorkbenchAdvisor.java examples/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/ApplicationWorkbenchWindowAdvisor.java examples/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/ICommandIds.java examples/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/MessagePopupAction.java examples/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/NavigationView.java examples/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/OpenViewAction.java examples/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/Part3Plugin.java examples/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/Perspective.java examples/org.eclipse.ui.tutorials.rcp.part3/src/org/eclipse/ui/tutorials/rcp/part3/View.java
Bug 369434 NPE on startup in PerspectiveStackRenderer when PS is hidden by Welcome view,I get an NPE on startup when the Welcome view was saved on-screen. The NPE occurs in PerspectiveStackRenderer#showTab(MUIElement) line 114: // relayout the perspective Composite psComp = ctrl.getParent(); StackLayout sl = (StackLayout) psComp.getLayout(); 114: sl.topControl = ctrl; psComp.layout(); It seems to work happily if I change the code to: // relayout the perspective Composite psComp = ctrl.getParent(); StackLayout sl = (StackLayout) psComp.getLayout(); if (sl != null) { sl.topControl = ctrl; psComp.layout(); } Steps to repeat: 1. Open to the Welcome / Intro (Help > Welcome) 2. Quit and then restart. You should get the NPE below on startup. Daemon Thread [Thread-1] (Suspended (exception NullPointerException)) PerspectiveStackRenderer.showTab(MUIElement) line: 114 PerspectiveStackRenderer(LazyStackRenderer).postProcess(MUIElement) line: 97 PerspectiveStackRenderer.postProcess(MUIElement) line: 77 PartRenderingEngine.safeCreateGui(MUIElement Object IEclipseContext) line: 632 PartRenderingEngine.safeCreateGui(MUIElement) line: 718 PartRenderingEngine.access$2(PartRenderingEngine MUIElement) line: 689 PartRenderingEngine$7.run() line: 683 SafeRunner.run(ISafeRunnable) line: 42 PartRenderingEngine.createGui(MUIElement) line: 668 SashRenderer(SWTPartRenderer).processContents(MElementContainer<MUIElement>) line: 59 PartRenderingEngine.safeCreateGui(MUIElement Object IEclipseContext) line: 628 PartRenderingEngine.safeCreateGui(MUIElement) line: 718 PartRenderingEngine.access$2(PartRenderingEngine MUIElement) line: 689 PartRenderingEngine$7.run() line: 683 SafeRunner.run(ISafeRunnable) line: 42 PartRenderingEngine.createGui(MUIElement) line: 668 WBWRenderer(SWTPartRenderer).processContents(MElementContainer<MUIElement>) line: 59 WBWRenderer.processContents(MElementContainer<MUIElement>) line: 584 PartRenderingEngine.safeCreateGui(MUIElement Object IEclipseContext) line: 628 PartRenderingEngine.safeCreateGui(MUIElement) line: 718 PartRenderingEngine.access$2(PartRenderingEngine MUIElement) line: 689 PartRenderingEngine$7.run() line: 683 SafeRunner.run(ISafeRunnable) line: 42 PartRenderingEngine.createGui(MUIElement) line: 668 PartRenderingEngine$9.run() line: 938 Realm.runWithDefault(Realm Runnable) line: 332 PartRenderingEngine.run(MApplicationElement IEclipseContext) line: 893 E4Workbench.createAndRunUI(MApplicationElement) line: 85 Workbench$4.run() line: 577 Realm.runWithDefault(Realm Runnable) line: 332 Workbench.createAndRunWorkbench(Display WorkbenchAdvisor) line: 532 PlatformUI.createAndRunWorkbench(Display WorkbenchAdvisor) line: 149 IDEApplication.start(IApplicationContext) line: 124 EclipseAppHandle.run(Object) line: 196 EclipseAppLauncher.runApplication(Object) line: 110 EclipseAppLauncher.start(Object) line: 79 EclipseStarter.run(Object) line: 352 EclipseStarter.run(String[] Runnable) line: 179 NativeMethodAccessorImpl.invoke0(Method Object Object[]) line: not available [native method] NativeMethodAccessorImpl.invoke(Object Object[]) line: 39 DelegatingMethodAccessorImpl.invoke(Object Object[]) line: 25 Method.invoke(Object Object...) line: 597 Main.invokeFramework(String[] URL[]) line: 624 Main.basicRun(String[]) line: 579 Main.run(String[]) line: 1433 Main.main(String[]) line: 1409,bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/PerspectiveStackRenderer.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/workbench/PartRenderingEngineTests.java
Bug 389863 EventHandlers are not called on part after closing other part,I have a simple example with 2 parts in a stack with both parts having an event listener method. When I start up and then close the first part the second part does not receive events anymore.,bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/internal/workbench/swt/E4Application.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/workbench/InjectionEventTest.java
Bug 371894 Installed CSS editor and now unable to open Appearance pref page,"I installed XText from Juno and the CSS Editor from 0.12-I-builds into last night's build: I20120216-2200 org.eclipse.xtext.sdk.feature.group 2.3.0.v201201310353 org.eclipse.e4.tools.css.editor.feature.feature.group 0.12.0.v20111205-2035-17N-8s735557371759D When I go to the Preferences>General>Appearance page (to finally edit my CSS for good it created an e4css project at the top of my Package Explorer and then NPEed. eclipse.buildId=I20120216-2200 java.fullversion=JRE 1.6.0 IBM J9 2.4 Linux amd64-64 jvmxa6460sr9-20101124_69295 (JIT enabled AOT enabled) J9VM - 20101124_069295 JIT - r9_20101028_17488ifx2 GC - 20101027_AA BootLoader constants: OS=linux ARCH=x86_64 WS=gtk NL=en_US Command-line arguments: -os linux -ws gtk -arch x86_64 -data /opt/pwebster/workspaces/build42x/ Error Fri Feb 17 09:31:01 EST 2012 Problems occurred when invoking code from plug-in: ""org.eclipse.jface"". java.lang.NullPointerException at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.createElement(PartServiceImpl.java:1002) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.delegateBringToTop(PartServiceImpl.java:579) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImpl.java:557) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImpl.java:531) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImpl.java:520) at org.eclipse.e4.ui.preferences.CSSEditorPreferences.createContents(CSSEditorPreferences.java:94) at org.eclipse.ui.internal.dialogs.ViewsPreferencePage.createContents(ViewsPreferencePage.java:89) at org.eclipse.jface.preference.PreferencePage.createControl(PreferencePage.java:232) at org.eclipse.jface.preference.PreferenceDialog.createPageControl(PreferenceDialog.java:1502) at org.eclipse.jface.preference.PreferenceDialog$14.run(PreferenceDialog.java:1259) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:49) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.preference.PreferenceDialog.showPage(PreferenceDialog.java:1253) at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.showPage(FilteredPreferenceDialog.java:675) at org.eclipse.jface.preference.PreferenceDialog$10.run(PreferenceDialog.java:709) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.jface.preference.PreferenceDialog$9.selectionChanged(PreferenceDialog.java:705) at org.eclipse.jface.viewers.StructuredViewer$3.run(StructuredViewer.java:888) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:49) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged(StructuredViewer.java:886) at org.eclipse.jface.viewers.StructuredViewer.handlePostSelect(StructuredViewer.java:1226) at org.eclipse.jface.viewers.StructuredViewer$5.widgetSelected(StructuredViewer.java:1251) at org.eclipse.jface.util.OpenStrategy.firePostSelectionEvent(OpenStrategy.java:262) at org.eclipse.jface.util.OpenStrategy.access$5(OpenStrategy.java:256) at org.eclipse.jface.util.OpenStrategy$3.run(OpenStrategy.java:433) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3510) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3161) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.open(WorkbenchPreferenceDialog.java:215) at org.eclipse.ui.internal.handlers.ShowPreferencePageHandler.execute(ShowPreferencePageHandler.java:58) at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:293) at org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:68) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37) at java.lang.reflect.Method.invoke(Method.java:611) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:56) at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:229) at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:210) at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:130) at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:161) at org.eclipse.e4.ui.workbench.renderers.swt.HandledContributionItem.executeItem(HandledContributionItem.java:763) at org.eclipse.e4.ui.workbench.renderers.swt.HandledContributionItem.handleWidgetSelection(HandledContributionItem.java:656) at org.eclipse.e4.ui.workbench.renderers.swt.HandledContributionItem.access$6(HandledContributionItem.java:640) at org.eclipse.e4.ui.workbench.renderers.swt.HandledContributionItem$4.handleEvent(HandledContributionItem.java:591) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1258) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3535) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3158) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1016) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:910) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:85) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:579) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:534) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:352) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37) at java.lang.reflect.Method.invoke(Method.java:611) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:624) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:579) at org.eclipse.equinox.launcher.Main.run(Main.java:1433) at org.eclipse.equinox.launcher.Main.main(Main.java:1409)",bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/PartServiceImpl.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/application/EPartServiceTest.java
Bug 377963 Restarting brings emacs scheme keybindings back,I started up a clean workspace inner. Create a plugin project with one of the examples then navigate around an open java editor. I switched to the emacs scheme on Preferences>General>Keys and then CTRL+A moves the the beginning of the line and CTRL+K deletes the line (with a popup) and F9 is undo. I switched back to the default key scheme. Now CTRL+A selects all and CTRL+Z is undo. If I restart and start moving around CTRL+A moves to the beginning of the line again and CTRL+Z is moving the editor up and down. PW,bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/workbench/swt/util/BindingProcessingAddon.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/Workbench.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/keys/BindingService.java
Bug 385046 AbstractTableInformationControl - Usage of SWT.LINE_DOT,I think the SWT.LINE_DOT is not supported by the SWT Label. RAP seems to have problem with that. Can we replace the following? Label separator = new Label(parent SWT.SEPARATOR | SWT.HORIZONTAL| SWT.LINE_DOT);,bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/internal/workbench/renderers/swt/AbstractTableInformationControl.java bundles/org.eclipse.jface/src/org/eclipse/jface/dialogs/PopupDialog.java
Bug 391186 Add restart() to IWorkbench,I think we should add the option to restart to IWorkbench(). Opinions?,bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/internal/workbench/swt/E4Application.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/E4Workbench.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/IWorkbench.java
Bug 407749 Keyboard shortcuts for certain practically macro - command creation using ICommandService,I used Eclipse Indigo (C/C++) and practically macro plugin (with keyboard shortcuts for custom macros). However when I tried Eclipse Juno and Kepler the keyboard shortcuts do not work (the macros work when played manually without using the keyboard shortcuts).,bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/addons/CommandProcessingAddon.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/CommandToModelProcessor.java
Bug 364529 UIEventPublisher does not handle Notification.ADD_MANY and REMOVE_MANY,"I was walking through some code that sought to respond to changes to the MApplication's menu contributions (formed from the 3.x <menuContributions> stanzas). My event listener was getting a strange event whose type was ""UNKNOWN"". It turns out that adding the generated MMenuContributions to the app instance (in MenuPersistence#read()) causes an EMF ADD_MANY notification which we don't interpret properly in UIEventPublisher#getEventType(). We instead map the notification to event type ""UNKNOWN"" which has the effect that the old and new values are never set in the event properties. I'm not sure what we should be mapping this ADD_MANY to.",bundles/org.eclipse.e4.ui.workbench.addons.swt/src/org/eclipse/e4/ui/workbench/addons/minmax/MinMaxAddon.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/ToolBarManagerRenderer.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/WBWRenderer.java bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/internal/workbench/swt/PartRenderingEngine.java bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/workbench/swt/util/BindingProcessingAddon.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/UIEventPublisher.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/addons/CommandProcessingAddon.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/addons/ContextProcessingAddon.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/UIEvents.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/e4/ui/workbench/addons/perspectiveswitcher/PerspectiveSwitcher.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/ViewIntroAdapterPart.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/UIAllTests.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/application/HeadlessContextPresentationEngine.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/application/UIEventTypesTest.java
Bug 406918 There are still some 'Discouraged Access' warnings for things that should be API,I've brought in the project that I used as the basis for my EclipseCon talk and there are still a few notifications against things that should be API at this point. Some of them are in packages that also appear to have non-API classes we may decide to defer some of them but we should take what action we can. The most glaring is that the annotations needed to create a new part aren't API; these are in the org.eclipse.e4.ui.di bundle and include @Focus @Persist @UIEventTopic... In org.eclipse.e4.core.extensions there's the @Preference annotation but there are a couple of other classes that I'm not sure of (perhaps we can defer this one). The org.eclipse.e4.ui.workbench package contains the UIEvents class which is needed to construct the topics for any model listening and should be API. Again I'm not sure what the API status is of the other classes in this package. The rest of the code (Model classes...) looks fine...,bundles/org.eclipse.e4.ui.di/src/org/eclipse/e4/ui/di/AboutToHide.java bundles/org.eclipse.e4.ui.di/src/org/eclipse/e4/ui/di/AboutToShow.java bundles/org.eclipse.e4.ui.di/src/org/eclipse/e4/ui/di/Focus.java bundles/org.eclipse.e4.ui.di/src/org/eclipse/e4/ui/di/Persist.java bundles/org.eclipse.e4.ui.di/src/org/eclipse/e4/ui/di/PersistState.java bundles/org.eclipse.e4.ui.di/src/org/eclipse/e4/ui/di/UIEventTopic.java bundles/org.eclipse.e4.ui.di/src/org/eclipse/e4/ui/di/UISynchronize.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/IExceptionHandler.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/IModelResourceHandler.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/IPresentationEngine.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/IResourceUtilities.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/IWorkbench.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/UIEvents.java
Bug 372226 Installed CSS editor and Appearance page contains blank area,I've installed the CSS editor and opened the Appearance pref page. I don't seem to get any errors in my error log but their is only a border and blank space where the editor should be. PW,bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/PartServiceImpl.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/workbench/PartRenderingEngineTests.java
Bug 413399 [Trim] Lost of the default Package / Navigator view container,I've noticed miscellaneous bugs with the view management. Here are some of them (ones I can reproduce). Here's the first I just noticed while trying to reproduce other ones : The default container of the Package / Navigator / Project Explorer views when minimized and while dragging it around can be lost. The left mouse button is not released but the container does not appear anywhere. It is not docked into a default location or something (I checked and rechecked). And I can't make it reappear by trying to open that view with the Window > Show view menu. I must reinitialize the perspective to get it back. It seems it does not occur with the other minimized view containers though the cursor can lost the container while dragging it and then it is automatically relocated at a default (or last) position but remains green as still being moved. More over when I try to place the minimized Package view container at the left bottom corner it doesn't want to keep that location after being maximized and minimized again ! Though once placed at the left bottom corner after a Eclipse restart it remains at that location until I maximized&minimized it. The other view containers seem to be less sensible to that phenomena. And to finish on those view containers issues on an other Kepler installation I have troubles with the Package and Navigator views because they are duplicated one or more times into the container after being minimized&maximized. Very difficult to close the duplicates and it seems impossible to fix... That bug is more difficult to reproduce I'll try to provoke it again. Hope it's clear enough. Thank you. -- Configuration Details -- Product: Eclipse 2.0.0.20130613-0530 (org.eclipse.epp.package.jee.product) Installed Features: org.eclipse.platform 4.3.0.v20130605-2000,bundles/org.eclipse.e4.ui.workbench.addons.swt/src/org/eclipse/e4/ui/workbench/addons/dndaddon/TrimDropAgent.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/TrimBarLayout.java
Bug 370026 NPE in PartActivationHistory.activate() in almost fresh 4.2M5,I've seen some similar stack traces but couldn't identify any clear duplicate so here it comes: Freshly installed Eclipse SDK 4.2 M5 Added some more stuff: Object Teams EGit Mylyn (assorted) Restart and immediately get this NPE (reported via an InjectionException): java.lang.NullPointerException at org.eclipse.e4.ui.internal.workbench.PartActivationHistory.activate(PartActivationHistory.java:52) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImpl.java:560) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImpl.java:531) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartServiceImpl.java:520) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.showPart(PartServiceImpl.java:950) at org.eclipse.ui.internal.WorkbenchPage.showPart(WorkbenchPage.java:959) at org.eclipse.ui.internal.WorkbenchPage.busyShowView(WorkbenchPage.java:938) at org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:3442) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3439) at org.eclipse.ui.internal.WorkbenchPage.showView(WorkbenchPage.java:3415) at org.eclipse.ui.internal.WorkbenchIntroManager.createIntro(WorkbenchIntroManager.java:178) at org.eclipse.ui.internal.WorkbenchIntroManager.showIntro(WorkbenchIntroManager.java:125) at org.eclipse.ui.application.WorkbenchWindowAdvisor.openIntro(WorkbenchWindowAdvisor.java:190) at org.eclipse.ui.internal.ide.application.IDEWorkbenchWindowAdvisor.openIntro(IDEWorkbenchWindowAdvisor.java:564) at org.eclipse.ui.internal.WorkbenchWindow.setup(WorkbenchWindow.java:610) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:616) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:56) I haven't even started using Eclipse so I can't say if/what functionality actually suffers.,bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/PartServiceImpl.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/application/EPartServiceTest.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/application/HeadlessContextPresentationEngine.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/workbench/SimpleView.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/workbench/TargetedView.java
Bug 378330 Closing a perspective first creates all parts,I20120502-1800. Closing a perspective first creates all not yet realized parts. This makes no sense and is a regression compared to 3.8.,bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/PartServiceImpl.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchPage.java
Bug 406090 Workbench window flickers frequent view redraws,I20130416-0800 With recent E4 builds I often see unjustified flickering in the workbench window. I haven't seen this before. Could be related to the new code to show busy state etc. in the view title. E.g. when I save a Java editor the counters in the JUnit view and the whole Javadoc view are cleared and redrawn.,bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/SWTPartRenderer.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/StackRenderer.java
Bug 423892 [EditorMgmt][Split editor] Only one command available in Quick Access,I20131210-2000 In Quick Access (Command+3) I only see one Split Editor command which splits vertically (creates a horizontal separator).,bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/SplitHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/SplitValues.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchMessages.java
"Bug 378959 Appearance preference page misses ""Use mixed fonts and colors for labels""","In 4.2 the Appearance preference page misses the ""Use mixed fonts and colors for labels"" option. This is a major problem because a user could have disabled this option in 3.8 but cannot enable it again after migrating to 4.2. BTW: The new Appearance page doesn't use the dialog font.",bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchMessages.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/dialogs/ViewsPreferencePage.java
"Bug 371289 Add ""active"" context variables","In many cases in SDK we see the following pattern: RunAndTrack() { ... getActiveLeaf().get(""some_name""); ... } While this works it might be not efficient as RaT will be called on every change of the active part regardless if the observed value of ""some_name"" changed. I'd like to see if we can add ""active"" variables that will serve as a buffer and will only trigger RaT above when the ""some_name"" value changed. The RaT would look like this: RunAndTrack() { ... getActive(""some_name""); ... }",bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/ExpressionContext.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/services/EvaluationService.java
Bug 398684 [Workbench] Initial size from IWorkbenchWindowConfigurer is not used to create the workbench window,In our application (IBM Installation Manager) we override 'preWindowOpen()' in 'WorkbenchWindowAdvisor' to set initial size to IWorkbenchWindowConfigurer (e.g. IWorkbenchWindowConfigurer.setInitialSize(lastSessionIMSize)) . But this initial size is not used to create the workbench window after we moved our target environment to Eclipse 4.2.1. It used to work before our E4 adoption.,bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/E4Workbench.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/ResourceHandler.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchWindow.java
Bug 387475 Error in editor initialization cause NPE in accessing compatibility editor,"In our application we have our own SvgEditor (indirectly derived from org.eclipse.ui.part.EditorPart) class that in its initialize method loads an SVG image and throws an exception (DOMException) when the image is invalid. In Eclipse Indigo this exception was nicely propagated and the code that tried to open the editor could catch it. With Eclipse Juno loading the editor obviously still fails. But now in WorkbenchPage.busyOpenEditor local variable compatibilityEditor becomes null due to the editor failing to load. At the end of that method however ""return compatibilityEditor.getEditor();"" is executed giving a NPE. This is the stack trace for the NPE: java.lang.NullPointerException at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:3087) at org.eclipse.ui.internal.WorkbenchPage.access$21(WorkbenchPage.java:2996) at org.eclipse.ui.internal.WorkbenchPage$8.run(WorkbenchPage.java:2978) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2974) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2933) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2916) at nl.tue.common.eclipse.ui.ControlEditor$2.run(ControlEditor.java:199) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3529) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3182) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1022) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:916) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:86) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:585) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:540) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584) at org.eclipse.equinox.launcher.Main.run(Main.java:1438) at org.eclipse.equinox.launcher.Main.main(Main.java:1414) When the editor fails to load e4 logs an exception (before getting to the part about the NPE): org.eclipse.e4.core.di.InjectionException: org.w3c.dom.DOMException: invalid.element at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:63) at org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:857) at org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:837) at org.eclipse.e4.core.internal.di.InjectorImpl.inject(InjectorImpl.java:111) at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:318) at org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:240) at org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:161) at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:102) at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:71) at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:53) at org.eclipse.e4.ui.workbench.renderers.swt.ContributedPartRenderer.createWidget(ContributedPartRenderer.java:141) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createWidget(PartRenderingEngine.java:889) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:623) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:725) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.access$2(PartRenderingEngine.java:696) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$7.run(PartRenderingEngine.java:690) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createGui(PartRenderingEngine.java:675) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl$1.handleEvent(PartServiceImpl.java:90) at org.eclipse.e4.ui.services.internal.events.UIEventHandler$1.run(UIEventHandler.java:41) at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:180) at org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:150) at org.eclipse.swt.widgets.Display.syncExec(Display.java:4291) at org.eclipse.e4.ui.internal.workbench.swt.E4Application$1.syncExec(E4Application.java:187) at org.eclipse.e4.ui.services.internal.events.UIEventHandler.handleEvent(UIEventHandler.java:38) at org.eclipse.equinox.internal.event.EventHandlerWrapper.handleEvent(EventHandlerWrapper.java:197) at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:197) at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:1) at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230) at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:148) at org.eclipse.equinox.internal.event.EventAdminImpl.dispatchEvent(EventAdminImpl.java:135) at org.eclipse.equinox.internal.event.EventAdminImpl.sendEvent(EventAdminImpl.java:78) at org.eclipse.equinox.internal.event.EventComponent.sendEvent(EventComponent.java:39) at org.eclipse.e4.ui.services.internal.events.EventBroker.send(EventBroker.java:81) at org.eclipse.e4.ui.internal.workbench.UIEventPublisher.notifyChanged(UIEventPublisher.java:57) at org.eclipse.emf.common.notify.impl.BasicNotifierImpl.eNotify(BasicNotifierImpl.java:374) at org.eclipse.e4.ui.model.application.ui.impl.ElementContainerImpl.setSelectedElement(ElementContainerImpl.java:171) at org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.showElementInWindow(ModelServiceImpl.java:418) at org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.bringToTop(ModelServiceImpl.java:385) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.delegateBringToTop(PartServiceImpl.java:578) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.bringToTop(PartServiceImpl.java:314) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.showPart(PartServiceImpl.java:962) at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:3071) at org.eclipse.ui.internal.WorkbenchPage.access$21(WorkbenchPage.java:2996) at org.eclipse.ui.internal.WorkbenchPage$8.run(WorkbenchPage.java:2978) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2974) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2933) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2916) at nl.tue.common.eclipse.ui.ControlEditor$2.run(ControlEditor.java:199) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3529) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3182) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1022) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:916) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:86) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:585) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:540) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584) at org.eclipse.equinox.launcher.Main.run(Main.java:1438) at org.eclipse.equinox.launcher.Main.main(Main.java:1414) Caused by: org.w3c.dom.DOMException: invalid.element at org.apache.batik.dom.AbstractNode.createDOMException(Unknown Source) at org.apache.batik.dom.svg.SVGDOMImplementation.createElementNS(Unknown Source) at org.apache.batik.dom.svg.SVGOMDocument.createElementNS(Unknown Source) at org.apache.batik.dom.util.SAXDocumentFactory.startElement(Unknown Source) at org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source) at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source) at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source) at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source) at org.apache.xerces.parsers.XMLParser.parse(Unknown Source) at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source) at org.apache.batik.dom.util.SAXDocumentFactory.createDocument(Unknown Source) at org.apache.batik.dom.util.SAXDocumentFactory.createDocument(Unknown Source) at org.apache.batik.dom.svg.SAXSVGDocumentFactory.createDocument(Unknown Source) at nl.tue.cif.v2x1x1.simulator.outputs.svg.SvgEditor.initialize(SvgEditor.java:131) at nl.tue.common.eclipse.ui.ControlEditor.init(ControlEditor.java:61) at org.eclipse.ui.internal.EditorReference.initialize(EditorReference.java:324) at org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.create(CompatibilityPart.java:288) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:56) ... 75 more Somehow the exception is not forwarded but logged resulting in the code to continue and thus resulting in the NPE. I use: Eclipse Modeling Tools Version: Juno Release Build id: 20120620-1657",bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchPage.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/e4/compatibility/CompatibilityPart.java
Bug 407505 Maximise-Restore causes hidden editor area to be shown,In our Eclipse-based RCP we don't always need to have an editor area so hide it using WorkbenchPage.setEditorAreaVisible(false). When maximise is called on a view org.eclipse.e4.ui.workbench.addons.minmax.MinMaxAddon.maximize(MUIElement) has special code for finding the editor area (Lines 645-653 in 4.2.2). Even though it is not visible it is getting added to elementsToMinimize which means is gets tagged with MINIMIZED & MINIMIZED_BY_ZOOM and therefore set to visible when restore is called.,bundles/org.eclipse.e4.ui.workbench.addons.swt/src/org/eclipse/e4/ui/workbench/addons/minmax/MinMaxAddon.java
Bug 408763 The ImportExportPage filters allows an empty category to appear,In the Import or Export Wizard dialog within a given category if you have a PatternFilter allowing one wizard through and a WizardActivityFilter allowing a different wizard through then the category remains in the display though empty. I noticed that NewWizardNewPage does also use PatternFilter and WizardActivityFilter but it also has one last filter WizardEmptyFolderFilter. Adding this filter to ImportExportPage does indeed seem to fix the problem.,bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/dialogs/WizardActivityFilter.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/dialogs/WizardCollectionElement.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/dialogs/WizardPatternFilter.java
Bug 364757 [Compatibility] Action set contexts can be deactivated too eagerly,"It seems that we don't have extra processing for action sets of a perspective that is ""always on"". Thus some action sets' contexts may be deactivated even if they're intended to always be enabled for a given perspective.",bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchPage.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchWindow.java
Bug 406706 API with @noreference needs class comment,Javadoc generation doesn't support @noreference tag on classes. As a result all of our @noreference classes/interfaces have no indication in the javadoc that they should not be used. I think we should add an English sentence in the class javadoc to make it crystal clear that these types are off limits. Something like this: * This [class|interface] must not be referenced by clients. * This API may be deleted in a future release * @noreference,bundles/org.eclipse.e4.ui.model.workbench/src/org/eclipse/e4/ui/model/application/ui/menu/MMenuContribution.java bundles/org.eclipse.e4.ui.model.workbench/src/org/eclipse/e4/ui/model/application/ui/menu/MMenuContributions.java bundles/org.eclipse.e4.ui.model.workbench/src/org/eclipse/e4/ui/model/application/ui/menu/MOpaqueMenu.java bundles/org.eclipse.e4.ui.model.workbench/src/org/eclipse/e4/ui/model/application/ui/menu/MOpaqueMenuItem.java bundles/org.eclipse.e4.ui.model.workbench/src/org/eclipse/e4/ui/model/application/ui/menu/MOpaqueMenuSeparator.java bundles/org.eclipse.e4.ui.model.workbench/src/org/eclipse/e4/ui/model/application/ui/menu/MOpaqueToolItem.java bundles/org.eclipse.e4.ui.model.workbench/src/org/eclipse/e4/ui/model/application/ui/menu/MRenderedMenu.java bundles/org.eclipse.e4.ui.model.workbench/src/org/eclipse/e4/ui/model/application/ui/menu/MRenderedMenuItem.java bundles/org.eclipse.e4.ui.model.workbench/src/org/eclipse/e4/ui/model/application/ui/menu/MRenderedToolBar.java bundles/org.eclipse.e4.ui.model.workbench/src/org/eclipse/e4/ui/model/application/ui/menu/MToolBarContribution.java bundles/org.eclipse.e4.ui.model.workbench/src/org/eclipse/e4/ui/model/application/ui/menu/MToolBarContributions.java bundles/org.eclipse.e4.ui.model.workbench/src/org/eclipse/e4/ui/model/application/ui/menu/MTrimContribution.java bundles/org.eclipse.e4.ui.model.workbench/src/org/eclipse/e4/ui/model/application/ui/menu/MTrimContributions.java bundles/org.eclipse.e4.ui.services/src/org/eclipse/e4/ui/services/IServiceConstants.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/EObjModelHandler.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/EPartService.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/EPlaceholderResolver.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/IDelta.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/IModelReconcilingService.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/IPartListener.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/ISaveHandler.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/ISelectionListener.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/IWindowCloseHandler.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/ModelDelta.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/ModelHandlerBase.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/ModelReconciler.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/ModelService.java bundles/org.eclipse.jface/src/org/eclipse/jface/internal/MenuManagerEventHelper.java bundles/org.eclipse.ui.navigator.resources/src/org/eclipse/ui/navigator/resources/ProjectExplorer.java bundles/org.eclipse.ui.navigator/src/org/eclipse/ui/navigator/CommonDropAdapterAssistant.java
Bug 391868 very slow switching editors; especially XML. (BIG CLUE FOUND HERE),"Just installed Juno for J2EE on my new machine quad-core Windows 7 with 8 GB memory. Switching between editors especially XML editors is very slow -- consistently 3 seconds... When switching between Java and XML editors for most of this 3 seconds I can see two XML icons on the toolbar flickering on & off! 'Open Resource' Ctrl-Shift-R or 'Open Type' Crl-Shift-T also take 1.5-2 seconds to come up and 1 second to go away. I've added -debug to eclipse.ini & tried stacktracing it a couple of times. While I'm waiting there's a brief burst of CPU (but only on one core). I think it might be parse tree/ UI update bound. Here's an example switching between XML editors: ""main"" prio=6 tid=0x0000000001ffc800 nid=0x1650 runnable [0x00000000023db000] java.lang.Thread.State: RUNNABLE at org.eclipse.swt.internal.win32.OS.GetMenuItemInfoW(Native Method) at org.eclipse.swt.internal.win32.OS.GetMenuItemInfo(OS.java:2729) at org.eclipse.swt.widgets.MenuItem.setEnabled(MenuItem.java:716) at org.eclipse.e4.ui.workbench.renderers.swt.HandledContributionItem.upd ateMenuItem(HandledContributionItem.java:518) at org.eclipse.e4.ui.workbench.renderers.swt.HandledContributionItem.upd ate(HandledContributionItem.java:473) at org.eclipse.jface.action.MenuManager.update(MenuManager.java:885) at org.eclipse.jface.action.MenuManager.update(MenuManager.java:885) at org.eclipse.ui.internal.Workbench.updateActiveWorkbenchWindowMenuMana ger(Workbench.java:2910) at org.eclipse.ui.internal.Workbench.access$0(Workbench.java:2896) at org.eclipse.ui.internal.Workbench$1.bindingManagerChanged(Workbench.j ava:2891) at org.eclipse.jface.bindings.BindingManager.fireBindingManagerChanged(B indingManager.java:900) at org.eclipse.jface.bindings.BindingManager.setActiveBindings(BindingMa nager.java:2176) at org.eclipse.jface.bindings.BindingManager.recomputeBindings(BindingMa nager.java:1742) at org.eclipse.jface.bindings.BindingManager.contextManagerChanged(Bindi ngManager.java:689) at org.eclipse.core.commands.contexts.ContextManager.fireContextManagerC hanged(ContextManager.java:165) at org.eclipse.core.commands.contexts.ContextManager.setActiveContextIds (ContextManager.java:295) at org.eclipse.e4.ui.internal.services.ContextContextService.getActiveCo ntextIds(ContextContextService.java:83) at org.eclipse.ui.internal.contexts.ContextService.getActiveContextIds(C ontextService.java:256) at org.eclipse.ui.internal.contexts.ActiveContextSourceProvider.getCurre ntState(ActiveContextSourceProvider.java:68) at org.eclipse.ui.internal.contexts.ActiveContextSourceProvider.contextM anagerChanged(ActiveContextSourceProvider.java:50) at org.eclipse.core.commands.contexts.ContextManager.fireContextManagerC hanged(ContextManager.java:165) at org.eclipse.core.commands.contexts.ContextManager.setActiveContextIds (ContextManager.java:295) at org.eclipse.e4.ui.bindings.internal.BindingServiceImpl.setContextIds( BindingServiceImpl.java:237) at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequest or.java:56) at org.eclipse.e4.core.internal.contexts.ContextObjectSupplier$ContextIn jectionListener.update(ContextObjectSupplier.java:88) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update( TrackableComputationExt.java:107) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled (EclipseContext.java:318) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseConte xt.java:332) at org.eclipse.e4.ui.internal.services.ContextContextService.activateCon text(ContextContextService.java:53) at org.eclipse.ui.internal.contexts.ContextService$UpdateExpression$1.ru n(ContextService.java:128) at org.eclipse.e4.core.contexts.RunAndTrack.runExternalCode(RunAndTrack. java:53) - locked <0x00000000a473eab0> (a org.eclipse.ui.internal.contexts.Contex tService$UpdateExpression) at org.eclipse.ui.internal.contexts.ContextService$UpdateExpression.chan ged(ContextService.java:126) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update( TrackableComputationExt.java:110) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled (EclipseContext.java:318) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseConte xt.java:332) at org.eclipse.e4.core.internal.contexts.EclipseContext$1.changed(Eclips eContext.java:751) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update( TrackableComputationExt.java:110) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled (EclipseContext.java:318) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseConte xt.java:332) at org.eclipse.ui.internal.WorkbenchPage.updateActivePartSources(Workben chPage.java:275) at org.eclipse.ui.internal.WorkbenchPage.updateActivations(WorkbenchPage .java:247) at org.eclipse.ui.internal.WorkbenchPage.access$15(WorkbenchPage.java:24 0) at org.eclipse.ui.internal.WorkbenchPage$E4PartListener.partActivated(Wo rkbenchPage.java:169) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl$2.run(PartServic eImpl.java:191) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.firePartActivate d(PartServiceImpl.java:189) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.setPart(PartServ iceImpl.java:164) at sun.reflect.GeneratedMethodAccessor25.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequest or.java:56) at org.eclipse.e4.core.internal.contexts.ContextObjectSupplier$ContextIn jectionListener.update(ContextObjectSupplier.java:88) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update( TrackableComputationExt.java:107) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled (EclipseContext.java:318) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseConte xt.java:332) at org.eclipse.e4.core.internal.contexts.EclipseContext.activate(Eclipse Context.java:630) at org.eclipse.e4.core.internal.contexts.EclipseContext.activateBranch(E clipseContext.java:635) at org.eclipse.e4.ui.internal.workbench.PartActivationHistory.activate(P artActivationHistory.java:52) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartSer viceImpl.java:561) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartSer viceImpl.java:532) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartSer viceImpl.java:521) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.hidePart(PartSer viceImpl.java:1112) at org.eclipse.ui.internal.WorkbenchPage.hidePart(WorkbenchPage.java:148 7) at org.eclipse.ui.internal.WorkbenchPage.hidePart(WorkbenchPage.java:144 0) at org.eclipse.ui.internal.WorkbenchPage.closeEditors(WorkbenchPage.java :1410) at org.eclipse.ui.internal.WorkbenchPage.closeEditor(WorkbenchPage.java: 1532) at org.eclipse.ui.internal.CloseEditorHandler.execute(CloseEditorHandler .java:47) at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.ja va:290) at org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProx y.java:76) at sun.reflect.GeneratedMethodAccessor17.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequest or.java:56) at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(Injecto rImpl.java:229) at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java :210) at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextIn jectionFactory.java:131) at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandl er(HandlerServiceImpl.java:171) at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.executeCommand(K eyBindingDispatcher.java:276) at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.press(KeyBinding Dispatcher.java:494) at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.processKeyEvent( KeyBindingDispatcher.java:545) at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.filterKeySequenc eBindings(KeyBindingDispatcher.java:366) at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.access$0(KeyBind ingDispatcher.java:313) at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher$KeyDownFilter.ha ndleEvent(KeyBindingDispatcher.java:82) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1262) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1052) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1077) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1062) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1104) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1100) at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1521) at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:4640) at org.eclipse.swt.widgets.Canvas.WM_CHAR(Canvas.java:345) at org.eclipse.swt.widgets.Control.windowProc(Control.java:4528) at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:341) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4976) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2546) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3756) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(Pa rtRenderingEngine.java:1029) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.ja va:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(Part RenderingEngine.java:923) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Wor kbench.java:86) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:588) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.ja va:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.jav a:543) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEAppli cation.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandl e.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runAppli cation(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(Ec lipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.ja va:353) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.ja va:180) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584) at org.eclipse.equinox.launcher.Main.run(Main.java:1438) at org.eclipse.equinox.launcher.Main.main(Main.java:1414) Here's an example switching between Java and XML editors: ""main"" prio=6 tid=0x0000000001ffc800 nid=0x1650 runnable [0x00000000023db000] java.lang.Thread.State: RUNNABLE at org.eclipse.swt.internal.win32.OS.GetMenuItemInfoW(Native Method) at org.eclipse.swt.internal.win32.OS.GetMenuItemInfo(OS.java:2729) at org.eclipse.swt.widgets.MenuItem.setEnabled(MenuItem.java:716) at org.eclipse.e4.ui.workbench.renderers.swt.HandledContributionItem.upd ateMenuItem(HandledContributionItem.java:518) at org.eclipse.e4.ui.workbench.renderers.swt.HandledContributionItem.upd ate(HandledContributionItem.java:473) at org.eclipse.jface.action.MenuManager.update(MenuManager.java:885) at org.eclipse.jface.action.MenuManager.update(MenuManager.java:885) at org.eclipse.ui.internal.Workbench.updateActiveWorkbenchWindowMenuMana ger(Workbench.java:2910) at org.eclipse.ui.internal.Workbench.access$0(Workbench.java:2896) at org.eclipse.ui.internal.Workbench$1.bindingManagerChanged(Workbench.j ava:2891) at org.eclipse.jface.bindings.BindingManager.fireBindingManagerChanged(B indingManager.java:900) at org.eclipse.jface.bindings.BindingManager.setActiveBindings(BindingMa nager.java:2176) at org.eclipse.jface.bindings.BindingManager.recomputeBindings(BindingMa nager.java:1742) at org.eclipse.jface.bindings.BindingManager.contextManagerChanged(Bindi ngManager.java:689) at org.eclipse.core.commands.contexts.ContextManager.fireContextManagerC hanged(ContextManager.java:165) at org.eclipse.core.commands.contexts.ContextManager.setActiveContextIds (ContextManager.java:295) at org.eclipse.e4.ui.internal.services.ContextContextService.getActiveCo ntextIds(ContextContextService.java:83) at org.eclipse.ui.internal.contexts.ContextService.getActiveContextIds(C ontextService.java:256) at org.eclipse.ui.internal.contexts.ActiveContextSourceProvider.getCurre ntState(ActiveContextSourceProvider.java:68) at org.eclipse.ui.internal.contexts.ActiveContextSourceProvider.contextM anagerChanged(ActiveContextSourceProvider.java:50) at org.eclipse.core.commands.contexts.ContextManager.fireContextManagerC hanged(ContextManager.java:165) at org.eclipse.core.commands.contexts.ContextManager.setActiveContextIds (ContextManager.java:295) at org.eclipse.e4.ui.bindings.internal.BindingServiceImpl.setContextIds( BindingServiceImpl.java:237) at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequest or.java:56) at org.eclipse.e4.core.internal.contexts.ContextObjectSupplier$ContextIn jectionListener.update(ContextObjectSupplier.java:88) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update( TrackableComputationExt.java:107) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled (EclipseContext.java:318) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseConte xt.java:332) at org.eclipse.e4.ui.internal.services.ContextContextService.activateCon text(ContextContextService.java:53) at org.eclipse.ui.internal.contexts.ContextService$UpdateExpression$1.ru n(ContextService.java:128) at org.eclipse.e4.core.contexts.RunAndTrack.runExternalCode(RunAndTrack. java:53) - locked <0x00000000fbb09bc0> (a org.eclipse.ui.internal.contexts.Contex tService$UpdateExpression) at org.eclipse.ui.internal.contexts.ContextService$UpdateExpression.chan ged(ContextService.java:126) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update( TrackableComputationExt.java:110) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled (EclipseContext.java:318) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseConte xt.java:332) at org.eclipse.e4.core.internal.contexts.EclipseContext$1.changed(Eclips eContext.java:751) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update( TrackableComputationExt.java:110) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled (EclipseContext.java:318) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseConte xt.java:332) at org.eclipse.ui.internal.WorkbenchPage.updateActivePartSources(Workben chPage.java:275) at org.eclipse.ui.internal.WorkbenchPage.updateActivations(WorkbenchPage .java:247) at org.eclipse.ui.internal.WorkbenchPage.access$15(WorkbenchPage.java:24 0) at org.eclipse.ui.internal.WorkbenchPage$E4PartListener.partActivated(Wo rkbenchPage.java:169) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl$2.run(PartServic eImpl.java:191) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.firePartActivate d(PartServiceImpl.java:189) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.setPart(PartServ iceImpl.java:164) at sun.reflect.GeneratedMethodAccessor25.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequest or.java:56) at org.eclipse.e4.core.internal.contexts.ContextObjectSupplier$ContextIn jectionListener.update(ContextObjectSupplier.java:88) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update( TrackableComputationExt.java:107) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled (EclipseContext.java:318) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseConte xt.java:332) at org.eclipse.e4.core.internal.contexts.EclipseContext.activate(Eclipse Context.java:630) at org.eclipse.e4.core.internal.contexts.EclipseContext.activateBranch(E clipseContext.java:635) at org.eclipse.e4.ui.internal.workbench.PartActivationHistory.activate(P artActivationHistory.java:52) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartSer viceImpl.java:561) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.activate(PartSer viceImpl.java:532) at org.eclipse.e4.ui.internal.workbench.swt.AbstractPartRenderer.activat e(AbstractPartRenderer.java:105) at org.eclipse.e4.ui.workbench.renderers.swt.ContributedPartRenderer$1.h andleEvent(ContributedPartRenderer.java:61) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1077) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1058) at org.eclipse.swt.widgets.Shell.setActiveControl(Shell.java:1447) at org.eclipse.swt.widgets.Control.sendFocusEvent(Control.java:2836) at org.eclipse.swt.widgets.Widget.wmSetFocus(Widget.java:2417) at org.eclipse.swt.widgets.Control.WM_SETFOCUS(Control.java:5152) at org.eclipse.swt.widgets.Canvas.WM_SETFOCUS(Canvas.java:448) at org.eclipse.swt.widgets.Control.windowProc(Control.java:4598) at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:341) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4976) at org.eclipse.swt.internal.win32.OS.SetFocus(Native Method) at org.eclipse.swt.widgets.Control.forceFocus(Control.java:1098) at org.eclipse.swt.widgets.Control.setFocus(Control.java:3303) at org.eclipse.swt.widgets.Composite.setFocus(Composite.java:1040) at org.eclipse.ui.texteditor.AbstractTextEditor.setFocus(AbstractTextEdi tor.java:6210) at org.eclipse.ui.texteditor.StatusTextEditor.setFocus(StatusTextEditor. java:122) at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.setFocus(JavaEditor .java:2389) at org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.delegateSe tFocus(CompatibilityPart.java:178) at sun.reflect.GeneratedMethodAccessor30.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequest or.java:56) at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(Injecto rImpl.java:229) at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(Injecto rImpl.java:235) at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java :206) at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextIn jectionFactory.java:106) at org.eclipse.e4.ui.workbench.renderers.swt.ContributedPartRenderer$2.s etFocus(ContributedPartRenderer.java:101) at org.eclipse.e4.ui.workbench.renderers.swt.StackRenderer$9.mouseUp(Sta ckRenderer.java:941) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java: 220) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4169) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3758) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(Pa rtRenderingEngine.java:1029) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.ja va:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(Part RenderingEngine.java:923) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Wor kbench.java:86) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:588) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.ja va:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.jav a:543) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEAppli cation.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandl e.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runAppli cation(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(Ec lipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.ja va:353) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.ja va:180) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584) at org.eclipse.equinox.launcher.Main.run(Main.java:1438) at org.eclipse.equinox.launcher.Main.main(Main.java:1414) ""VM Thread"" prio=10 tid=0x000000000a7e2800 nid=0x1ab4 runnable ""GC task thread#0 (ParallelGC)"" prio=6 tid=0x0000000002045000 nid=0x1698 runnabl e ""GC task thread#1 (ParallelGC)"" prio=6 tid=0x0000000002046800 nid=0x8b4 runnable ""GC task thread#2 (ParallelGC)"" prio=6 tid=0x0000000002048000 nid=0x15d4 runnabl e ""GC task thread#3 (ParallelGC)"" prio=6 tid=0x000000000204a000 nid=0x19dc runnabl e ""VM Periodic Task Thread"" prio=10 tid=0x000000000a885800 nid=0x1114 waiting on c ondition JNI global references: 541 Heap PSYoungGen total 480256K used 140675K [0x00000000e0000000 0x00000000ff4e 0000 0x0000000100000000) eden space 453120K 28% used [0x00000000e00000000x00000000e7c0fe800x00000000 fba80000) from space 27136K 50% used [0x00000000fba800000x00000000fc7d10980x00000000f d500000) to space 26560K 0% used [0x00000000fdaf00000x00000000fdaf00000x00000000ff 4e0000) ParOldGen total 217280K used 185659K [0x00000000a0000000 0x00000000ad43 0000 0x00000000e0000000) object space 217280K 85% used [0x00000000a00000000x00000000ab54ed800x000000 00ad430000) PSPermGen total 127808K used 112460K [0x0000000090000000 0x0000000097cd 0000 0x00000000a0000000) object space 127808K 87% used [0x00000000900000000x0000000096dd30000x000000 0097cd0000)",bundles/org.eclipse.e4.ui.bindings/src/org/eclipse/e4/ui/bindings/internal/BindingServiceImpl.java bundles/org.eclipse.e4.ui.services/src/org/eclipse/e4/ui/services/ContextServiceAddon.java
Bug 389251 [Performance] Idle Eclipse constantly allocates hundreds of objects per second,M20120909-2000. The idle Eclipse constantly allocates hundreds of objects (mostly char[] int[] String and others) per second even though the IDE is idle. Test Case: 1. start a new workspace 2. close the Welcome page 3. wait until all is idle 4. start to profile the memory ===> see never ending allocation of hundred of objects per second (and then GCed later).,bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/HandledContributionItem.java bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/internal/workbench/swt/PartRenderingEngine.java
Bug 383269 vertical trims are not supported,On e4 I can contribute trims to the locations toolbar:org.eclipse.ui.trim.status and toolbar:org.eclipse.ui.trim.command2 but the vertical locations toolbar:org.eclipse.ui.trim.vertical1 and toolbar:org.eclipse.ui.trim.vertical2 do not work; nothing shows up when I use them. I'm not sure about command1.,bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/TrimBarRenderer.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchWindow.java
Bug 372077 Context debug view not plumbed in properly,org.eclipse.e4.core.contexts.debug provides a nifty context debug view. But it is not accessible from the E3.x compat layer. Although it adds itself to the MApplication's part descriptors the IViewRegistry provided to Show View dialog (org.eclipse.ui.internal.dialogs.ShowViewDialog) does not actually include the MApplication's part descriptor list.,bundles/org.eclipse.e4.core.contexts.debug/src/org/eclipse/e4/core/internal/contexts/debug/ui/FindTargetAction.java bundles/org.eclipse.e4.core.contexts.debug/src/org/eclipse/e4/core/internal/contexts/debug/ui/legacy/ContextTraceLegacyView.java
Bug 366449 [Compatibility] No hook for event idle loop yet,org.eclipse.ui.parts.tests.PartsReferencesTestSuite depends on implementing org.eclipse.ui.application.WorkbenchAdvisor.eventLoopIdle(Display) but in Eclipse 4 we have no hook for the event idle loop yet. Without this all of its tests hang. PW,bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/internal/workbench/swt/IEventLoopAdvisor.java bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/internal/workbench/swt/PartRenderingEngine.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/Workbench.java
Bug 369229 SashLayout sets widgets on an MPSC eagerly which will cause child elements to not be rendered,SashLayout will inspect its children and set a Rectangle instance in them if they are an MGenericTile. The issue here is that the rendering engine an element's widget to determine whether it needs to be processed or not. If a widget is prematurely set on a parent MPSC then any child model elements of the MPSC will simply be skipped by the rendering engine.,bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/SashLayout.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/workbench/LayoutView.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/workbench/PartRenderingEngineTests.java
Bug 370219 Selection service could use an ability to pause dependency recording,Some Run-and-Tracks might benefit from an ability to stop & resume dependency recording for instance when calling 3rd party code such as listeners. In particular selection service uses async calls to work around this issue which changes expected behavior. I'll add the following methods to RunAndTrack: pauseRecording() resumeRecoding() to provide this functionality and will update selection service to use it.,bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/SelectionAggregator.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/application/UITest.java
Bug 391626 [Compatibility] e4 does not implement the post-selection concept,Steps to Reproduce: 1. Create a simple html file 1: <html> 2: <head> 3: </head> 4: <body> 5: <p>Text</p> ... repeat above line 100 times 105: </body> 106: </html> 2. Go to line 105 3. Press and hold Shift+UpArrow The outline scrolls hard and hard(moving up and down). The cursor runs without block-seletion(region highlighted) and then selecting lines takes a few seconds per line. Turning off Link-with-Editor is the only workaround for now. This problem occurs on Eclipse SDK 4.2.1.M20120914-1800 Eclipse Web Developer Tools 3.4.1.v201208170345-7O7MFsPEMkBJz0wtb-ccsarPSceUIHO9iKk6XVPV Not occurs on Eclipse SDK 3.8.1.M20120914-1540 Eclipse Web Developer Tools 3.4.1.v201208170345-7O7MFsPEMkBJz0wtb-ccsarPSceUIHO9iKk6XVPV Each WTP3.4.1 is installed from juno repository and they are same on 4.2.1 and 3.8.1 of course.(I confirmed it with fc/b command also),bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/SelectionAggregator.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/e4/compatibility/SelectionService.java
Bug 365018 [CSS] Add missing support to CSS engine,"The CSS Spy requires the CSS Engine to provide the ability to: * parse selectors (to complement the existing support for parsing rules properties values etc.) * return the list of applicable selectors for an element (rather than walk the public propertyHandlerMap property on AbstractCSSEngine) The CSS WidgetElement implementation is missing: * the ability to use ""class"" as an attribute required to be able to query against the CSS class string (e.g. ""CTabFolder[class='MPartStack']""",bundles/org.eclipse.e4.ui.css.core/src/org/eclipse/e4/ui/css/core/engine/CSSEngine.java bundles/org.eclipse.e4.ui.css.core/src/org/eclipse/e4/ui/css/core/impl/dom/parsers/AbstractCSSParser.java bundles/org.eclipse.e4.ui.css.core/src/org/eclipse/e4/ui/css/core/impl/engine/AbstractCSSEngine.java bundles/org.eclipse.e4.ui.css.swt/src/org/eclipse/e4/ui/css/swt/dom/WidgetElement.java tests/org.eclipse.e4.ui.tests.css.core/src/org/eclipse/e4/ui/tests/css/core/CSSEngineTest.java tests/org.eclipse.e4.ui.tests.css.core/src/org/eclipse/e4/ui/tests/css/core/CssCoreTestSuite.java tests/org.eclipse.e4.ui.tests.css.core/src/org/eclipse/e4/ui/tests/css/core/EngineProviderTest.java tests/org.eclipse.e4.ui.tests.css.core/src/org/eclipse/e4/ui/tests/css/core/parser/SelectorTest.java
"Bug 381470 [CSS] CSS url resources should support ""file:""-style URIs","The CSS support doesn't know how to handle ""file:""-style URIs.",bundles/org.eclipse.e4.ui.css.core/src/org/eclipse/e4/ui/css/core/util/impl/resources/FileResourcesLocatorImpl.java bundles/org.eclipse.e4.ui.css.swt/src/org/eclipse/e4/ui/css/swt/helpers/CSSSWTImageHelper.java
Bug 378029 Simplify widget-data accesses for CSS information,The CSS WidgetElement class provides several convenience methods for getting and setting CSS information for a widget or display. The codebase should be changed to use these convenience methods.,bundles/org.eclipse.e4.ui.css.swt.theme/src/org/eclipse/e4/ui/css/swt/internal/theme/ThemeEngine.java bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/internal/workbench/swt/CSSRenderingUtils.java bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/internal/workbench/swt/PartRenderingEngine.java examples/org.eclipse.e4.demo.contacts/src/org/eclipse/e4/demo/contacts/views/DetailComposite.java examples/org.eclipse.e4.ui.examples.css.rcp/src/org/eclipse/e4/ui/examples/css/rcp/NavigationView.java examples/org.eclipse.e4.ui.examples.css.rcp/src/org/eclipse/e4/ui/examples/css/rcp/View.java
Bug 371087 [EAP] No way to store UI-State like in 3.x with IMemento,The current EAP does not allow to persist the state in a way RCP 3.x allowed save the state by implementing IViewPart#saveState(). In EAP we only have @PreDestroy as a lifecycle which is not good because at this moment e.g. SWT-Widgets are already disposed and saving their state in ApplicationElement.persistedState is not possible any more. My suggestion would be to: a) add @PersistState annotation to ui.di b) call it in the ContributedPart renderer in disposeWidget Please not this make it work a bit different than in 3.x where the saveState was called on Workbench shutdown only which always bugged me there already.,bundles/org.eclipse.e4.ui.di/src/org/eclipse/e4/ui/di/PersistState.java bundles/org.eclipse.e4.ui.workbench.swt/src/org/eclipse/e4/ui/internal/workbench/swt/PartRenderingEngine.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/workbench/PartRenderingEngineTests.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/workbench/SampleView.java
Bug 375264 E4 Contacts Demo's theme toolbars and menus grow after each execution,The E4 Contacts demo (org.eclipse.e4.demo.contacts) seems to have manifested new behaviour where the theme-related toolbar sections and theme menus multiply after each execution. Either this wasn't happening before or I really need to have my eyes checked!,examples/org.eclipse.e4.demo.contacts/src/org/eclipse/e4/demo/contacts/processors/MenuThemeProcessor.java examples/org.eclipse.e4.demo.contacts/src/org/eclipse/e4/demo/contacts/processors/ToolbarThemeProcessor.java
Bug 375282 [CSS] Add support for Composite.setBackgroundMode(),The E4 Contacts demo's Help > About and Help > Preferences dialogs show a grey band (or whatever the default colour SWT.COLOR_WIDGET_BACKGROUND may be) and the buttons may also show this grey colour too. To avoid this issue requires that the shell or composite have its background-mode set to SWT.INHERIT_DEFAULT or SWT.INHERIT_FORCE. We should have a way to set this value from CSS.,bundles/org.eclipse.e4.ui.css.swt/src/org/eclipse/e4/ui/css/swt/properties/custom/CSSBackgroundModePropertyHandler.java tests/org.eclipse.e4.ui.tests.css.swt/src/org/eclipse/e4/ui/tests/css/swt/ShellTest.java
Bug 372152 Deprecate workbench window advisor methods for custom window creation,The following methods no longer have any effect in 4.2 and should be deprecated: WorkbenchWindowAdvisor: createWindowContents(Shell shell); createEmptyWindowContents(Composite parent); IWorkbenchWindowConfigurer public Menu createMenuBar(); public Control createCoolBarControl(Composite parent); public Control createStatusLineControl(Composite parent); public Control createPageComposite(Composite parent); public IStatus saveState(IMemento memento);,bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/application/IWorkbenchWindowConfigurer.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/application/WorkbenchWindowAdvisor.java
Bug 411017 Retire org.eclipse.ui.examples.presentation plug-in,The master of the platform ui Git repo still contains the org.eclipse.ui.examples.presentation project. As the Presentation API has been removed and deprecated I suggest to delete the project from master. I still still be available in the branches for the releases.,examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/PresentationExamplesPlugin.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/PresentationImages.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/PresentationPlugin.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/barebones/BareBonesPartPresentation.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/barebones/BareBonesPresentationFactory.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/baretittle/BareTitlePresentationFactory.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/baretittle/BareTitleStackPresentation.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/sidewinder/ClosePartContributionItem.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/sidewinder/PartItem.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/sidewinder/SideWinderItemViewPresentation.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/sidewinder/SideWinderPresentationFactory.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/wrappedtabs/ChangeStackStateContributionItem.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/wrappedtabs/CloseAllContributionItem.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/wrappedtabs/CloseContributionItem.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/wrappedtabs/CloseOthersContributionItem.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/wrappedtabs/PartListContributionItem.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/wrappedtabs/ProxyControl.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/wrappedtabs/ShowToolbarContributionItem.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/wrappedtabs/WrappedTabsPartPresentation.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/wrappedtabs/WrappedTabsPresentationFactory.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/wrappedtabs/WrappedTabsThemeConstants.java examples/org.eclipse.ui.examples.presentation/src/org/eclipse/ui/examples/presentation/wrappedtabs/WrappedTabsUtil.java
Bug 369006 Remove 4.x workbench dependency on equinox.concurrent,There are some trivial references to org.eclipse.equinox.concurrent in org.eclipse.e4.ui.workbench and org.eclipse.e4.core.services. I think we should just remove these rather than bringing in a new dependency. They are used to define and register a ISchedulingExecutor service but nobody ever uses it. The reason I think it is worth removing them is this was investigation that was started long ago but never made much progress. The org.eclipse.e4.core.services.work package is in a similar state and defines its own Future API that duplicates the work in org.eclipse.equinox.concurrent (and java.util.concurrent for that matter). Once we add a bundle to our RCP feature it is quite difficult to remove in the future. I have a patch ready but was wondering if anyone else has seen evidence of ISchedulingExecutor being used by anyone.,bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/Activator.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/JobExecutor.java
Bug 412479 ToolBarManagerRenderer doesn't care orientation changing of MToolBar because of it's cache.,ToolBarManagerRenderer#createtoolbar() has a MToolBar model to ToolBarManager cache map. However Orientation of MToolBar(SWT.HORIZONTAL or SWT.VERTICAL) can be changed dynamically since user can drag toolbars to MTrimBar in 4 sides of WBW. When create a ToolBarManager first time orientation is calculated and applied properly(see ToolBarManagerRenderer#getOrientation) But it is not applied when cached one is used. As a result when user dragged a toolbar from main trim bar to left sided trim bar toolbar is rendered as HORIZONTAL. Since ToolBarManager takes item style as it's constructor and there is no way to modify it later. So cache invalidation algorithm should have to be provided.,bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/ToolBarManagerRenderer.java bundles/org.eclipse.jface/src/org/eclipse/jface/action/ToolBarManager.java tests/org.eclipse.ui.tests/Eclipse JFace Tests/org/eclipse/jface/tests/action/AllTests.java tests/org.eclipse.ui.tests/Eclipse JFace Tests/org/eclipse/jface/tests/action/ToolBarManagerTest.java
Bug 370471 Double-clicking on marker category crashes Eclipse,Version: 4.2.0 (happens in 3.x as well) Build id: I20120126-1300 Steps: 1. select a lot of projects in your workspace 2. open the Problems view and group the markers by 'Java Problem Type' 3. double-click a category with a lot of markers in it to expand it 4. realize that double-clicking does not expand but instead opens all child markers in editors 5. watch patiently as 100's (or 1000's) of editors are opened and Eclipse dies a slow death-by-editor.,bundles/org.eclipse.ui.browser/src/org/eclipse/ui/internal/browser/BrowserViewer.java bundles/org.eclipse.ui.ide/src/org/eclipse/ui/internal/views/markers/ExtendedMarkersView.java
Bug 398455 Quick Access incremental suggestion list generation is either unintuitive or wrong,"Version: 4.2.2 Build id: M20130116-1800 - type 'b' (w/o the quotes) in the Quick Access field - there are many completions offered that have a 'b' in their middle (eg.- Commands > A'b'ort Release) - however a suggestion that starts with a 'b' like ""Commands > 'B'uild Clean"" is not shown - it looks like each category is limited to its first five matches but it would be more intuitive/valuable to have suggestions that match what is being typed (Commands > Build Clean should win over Commands > Abort Release for 'b')",bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/quickaccess/QuickAccessContents.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/quickaccess/QuickAccessElement.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/quickaccess/QuickAccessEntry.java
Bug 374227 ModelAssembler doesn't set contributorURI on root-element,We are missing to set the contributorURI on the root element of a fragment contribution and so translation of those item fails.,bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/ModelAssembler.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/application/ResourceHandlerTest.java
Bug 374534 IEventBroker instances are not actually allocated and destroyed on a per-context basis,We have several view parts that subscribe to events using the IEventBroker. I wondered why a part's subscriptions on its IEventBroker weren't being removed on part close. It turns out that the EventBrokerFactory context function does a get() rather than getLocal(). So if an event broker has been allocated in a parent that broker will be used for all children. Since a broker is created on the workbench context on startup as a result of configuring the EModelService and so this instance effectively becomes a singleton instance for the application. I think is a bug. Or at least having a part's subscriptions be automatically expired on close seems to be a big benefit that we're not getting.,bundles/org.eclipse.e4.ui.services/src/org/eclipse/e4/ui/services/events/EventBrokerFactory.java tests/org.eclipse.e4.ui.tests/src/org/eclipse/e4/ui/tests/application/UIEventsTest.java
Bug 402781 [API] Extend the EModelService to provide factory capabilities for model elements,We need to move away from exposing the EMF factory pattern. The obvious replacement is to extend the EModelService. Rather than implementing 'n' discreet methods (one for each concrete class) we'll just implement a generic factory capable of taking a class and (if possible) returning an instance of that class: MPartStack newStack = modelService.createUIElement(MPartStack.class); This has the advantage of allowing us to add new element types (or even deprecate others) without having to modify the API itself.,bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/internal/workbench/ModelServiceImpl.java bundles/org.eclipse.e4.ui.workbench/src/org/eclipse/e4/ui/workbench/modeling/EModelService.java
Bug 374121 AIOOBE when restoring a window with no perspectives,"We're working on a platform-style product where the base level product has no default perspective. We've noticed 2 exceptions like the following on subsequent startups. In this case we're trying to render the following control: org.eclipse.e4.ui.model.application.ui.menu.impl.ToolControlImpl@57125f92 (elementId: org.eclipse.ui.StatusLine tags: [stretch] contributorURI: null) (widget: null renderer: org.eclipse.e4.ui.workbench.renderers.swt.ToolControlRenderer@4bc78066 toBeRendered: true onTop: false visible: true containerData: null accessibilityPhrase: null) (contributionURI: bundleclass://org.eclipse.ui.workbench/org.eclipse.ui.internal.StandardTrim object: org.eclipse.ui.internal.StandardTrim@16becf68) The tool control object is created but line 82 of org.eclipse.ui.internal.StandardTrim does not actually create the status line widget as the context doesn't have a corresponding IWorkbenchWindow. !ENTRY org.eclipse.e4.ui.workbench.swt 4 2 2012-03-13 13:34:00.012 !MESSAGE Problems occurred when invoking code from plug-in: ""org.eclipse.e4.ui.workbench.swt"". !STACK 0 java.lang.ArrayIndexOutOfBoundsException: -1 at org.eclipse.e4.ui.workbench.renderers.swt.ToolControlRenderer.createWidget(ToolControlRenderer.java:71) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createWidget(PartRenderingEngine.java:882) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:616) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:718) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.access$2(PartRenderingEngine.java:689) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$7.run(PartRenderingEngine.java:683) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createGui(PartRenderingEngine.java:668) at org.eclipse.e4.ui.workbench.renderers.swt.SWTPartRenderer.processContents(SWTPartRenderer.java:59) at org.eclipse.e4.ui.workbench.renderers.swt.TrimBarRenderer.processContents(TrimBarRenderer.java:154) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:628) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$6.run(PartRenderingEngine.java:505) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createGui(PartRenderingEngine.java:490) at org.eclipse.e4.ui.workbench.renderers.swt.WBWRenderer.processContents(WBWRenderer.java:647) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:628) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:718) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.access$2(PartRenderingEngine.java:689) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$7.run(PartRenderingEngine.java:683) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createGui(PartRenderingEngine.java:668) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:954) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:909) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:85) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:580) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:535) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at com.lgc.ds.rcp.DSApplication.start(DSApplication.java:35) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584) at org.eclipse.equinox.launcher.Main.run(Main.java:1438) at org.eclipse.equinox.launcher.Main.main(Main.java:1414)",bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/ToolControlRenderer.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/StandardTrim.java
Bug 377884 @CanExecute is not executed using DirectItems,When you have a DirectMenuItem @CanExecute is not executed before the item is displayecd. Only after clicking.,bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/DirectMenuItemRenderer.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/MenuManagerRendererFilter.java
Bug 418715 [IDE] navigator: show file/folder on linux show parent of folder,When you select and open a folder on linux nautilus opens the parent of the folder. This doesn't seem like the correct behaviour. Also to support older nautilus file managers linux is the only system that find the parent of the selection and opens it. It might be moot. One can edit the preference in Preferences>General>Workspace and switching it to something like [1] would fix the problem. PW [1] dbus-send --dest=org.freedesktop.FileManager1 /org/freedesktop/FileManager1 org.freedesktop.FileManager1.ShowItems array:string:'file://${selected_resource_loc}',bundles/org.eclipse.ui.ide/src/org/eclipse/ui/internal/ide/IDEWorkbenchMessages.java bundles/org.eclipse.ui.ide/src/org/eclipse/ui/internal/ide/handlers/ShowInSystemExplorerHandler.java
Bug 380322 Scheme is ignored while selecting the best shortcut to display,When you switch to the emacs scheme Edit>Find/Replace still shows CTRL+F (although that's next word in emacs). It should be ALT+R. That's because getBestSequenceFor(*) ignores the scheme when sorting the bindings. It should sort by scheme first and then pick best values out of that. PW,bundles/org.eclipse.e4.ui.bindings/src/org/eclipse/e4/ui/bindings/internal/BindingTable.java bundles/org.eclipse.e4.ui.bindings/src/org/eclipse/e4/ui/bindings/internal/BindingTableManager.java
Bug 401199 unused private field errors,With CBI-4.2.0.I20130217-2011 I get 4 unused field errors: Description Resource Path Location Type The value of the field MenuManagerHideProcessor.modelService is not used MenuManagerHideProcessor.java /org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt line 40 Java Problem The value of the field MenuManagerRendererFilter.rendererFactory is not used MenuManagerRendererFilter.java /org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt line 68 Java Problem The value of the field MenuManagerHideProcessor.rendererFactory is not used MenuManagerHideProcessor.java /org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt line 43 Java Problem The value of the field ContextService.synchService is not used ContextService.java /org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/contexts line 65 Java Problem This code hasn't changed in a long time and these errors have just appeared. They're valid errors though (we have per-project settings that unused private members should be errors) so I need to fix them. PW,bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/MenuManagerHideProcessor.java bundles/org.eclipse.e4.ui.workbench.renderers.swt/src/org/eclipse/e4/ui/workbench/renderers/swt/MenuManagerRendererFilter.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/contexts/ContextService.java
Bug 239523 [TabbedProperties] Three JavaDoc warnings,I noticed there are three JavaDoc warnings in the org.eclipse.ui.views.properties.tabbed there should be zero warnings and errors.,bundles/org.eclipse.ui.views.properties.tabbed/src/org/eclipse/ui/internal/views/properties/tabbed/view/OverridableTabListContentProvider.java bundles/org.eclipse.ui.views.properties.tabbed/src/org/eclipse/ui/internal/views/properties/tabbed/view/SectionDescriptor.java bundles/org.eclipse.ui.views.properties.tabbed/src/org/eclipse/ui/internal/views/properties/tabbed/view/TabbedPropertyList.java
Bug 239260 [Mac] [KeyBindings] Keybindings wrong on Cocoa,"Ctrl key is being used instead of Command when SWT.Platform returns ""cocoa""",bundles/org.eclipse.jface/src/org/eclipse/jface/bindings/keys/SWTKeyLookup.java bundles/org.eclipse.jface/src/org/eclipse/jface/bindings/keys/formatting/NativeKeyFormatter.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/keys/KeysPreferencePage.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/keys/NativeKeyFormatter.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/keys/ModifierKey.java
Bug 239015 [Databinding] ObservableListTreeContentProvider adds the value passed to TreeViewer#setInput() to the known-elements,The input element is never shown in the viewer so it should no get part of the knownElements further more it restricts the usability of the content-provider because the input-element itself already has to provide the required Observable-Attribute(s).,bundles/org.eclipse.jface.databinding/src/org/eclipse/jface/internal/databinding/viewers/ObservableCollectionTreeContentProvider.java tests/org.eclipse.jface.tests.databinding/src/org/eclipse/jface/tests/databinding/BindingTestSuite.java tests/org.eclipse.jface.tests.databinding/src/org/eclipse/jface/tests/internal/databinding/viewers/ObservableCollectionTreeContentProviderTest.java
Bug 238909 [DataBinding] Correctly set the staleness state of the validation status observable of the MultiValidator,For Bindings the validation status observable should be stale whenever either the target or model observable is stale. For the MultiValidator the validation status observable should be stale whenever any of its dependencies accessed from within the MultiValidator#validate() is stale.,bundles/org.eclipse.core.databinding/src/org/eclipse/core/databinding/validation/MultiValidator.java tests/org.eclipse.jface.tests.databinding/src/org/eclipse/core/tests/databinding/validation/MultiValidatorTest.java
Bug 238452 [Browser] External browser parameters are not passed to external browser,Build ID: I20080609-1311 Steps To Reproduce: 1.When I set values in to the Edit External Web Browser dialog from Window->Preferences->General->WebBrowser->Use external web browse->Edit these parameters have no effect. 2. 3. More information: The buggy code is in org.eclipse.ui.internal.browser.browsers.MozillaFactory.createBrowser(String String String) public IWebBrowser createBrowser(String id String location String parameters) { // Create single browser for all clients if (browserInstance == null) { browserInstance = new MozillaBrowser(id location); } return browserInstance; } Parameters are ignored,bundles/org.eclipse.ui.browser/src/org/eclipse/ui/internal/browser/ExternalBrowserInstance.java bundles/org.eclipse.ui.browser/src/org/eclipse/ui/internal/browser/WebBrowserUtil.java bundles/org.eclipse.ui.browser/src/org/eclipse/ui/internal/browser/browsers/MozillaBrowser.java bundles/org.eclipse.ui.browser/src/org/eclipse/ui/internal/browser/browsers/MozillaFactory.java
Bug 231505 [Forms] Invalid comment for TableWrapData,Build ID: I20080502-0100 Steps To Reproduce: 1. TableWrapData speaks about some unknown HTMLTableLayout. 2. For FILL comment speaks only about column but FILL can be used also for vertical layout. More information:,bundles/org.eclipse.ui.forms/src/org/eclipse/ui/forms/widgets/TableWrapData.java bundles/org.eclipse.ui.forms/src/org/eclipse/ui/internal/forms/widgets/FormTextModel.java
Bug 231502 [Forms] TableWrapLayout and makeColumnsEqualWidth,Build ID: I20080502-0100 Steps To Reproduce: 1. Create Shell with TableWrapLayout 2 columns with makeColumnsEqualWidth = true; 2. Add two Button's second Button has long text so its column is wide. 3. As I read JavaDoc for makeColumnsEqualWidth two columns should have same width. But it is not. 4. But when you shrink with of Shell window first column at last becomes same width as second (wide) column! Looks not consistent. More information:,bundles/org.eclipse.ui.forms/src/org/eclipse/ui/forms/widgets/TableWrapLayout.java
Bug 231341 [Commands] Menu disappears when dialog pops up,"When a dialog pops up a main menu with a visibleWhen clause involving activeEditorId disappears. It can be reproduced with this code: WithExpression w = new WithExpression(""activeEditorId""); EqualsExpression e = new EqualsExpression( ""org.eclipse.ui.DefaultTextEditor""); w.add(e); IEvaluationReference ref = es.addEvaluationListener(w listener ""foo""); WorkbenchWindowExpression wwe = new WorkbenchWindowExpression(getSite() .getPage().getWorkbenchWindow()); rs.addEvaluationListener(wwe new RestrictionListener(ref) IRestrictionService.PROP_NOTIFYING); The active editor source is evaluated before the active shell source so the foo property changes and then is restricted from posting changes. This will be a problem with all sources that change in uncontrolled orders I'm not sure what to do here. PW",bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/DetachedWindow.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/Workbench.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchWindow.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/menus/ContributionRoot.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/menus/InternalMenuService.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/menus/MenuServiceFactory.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/menus/SlaveMenuService.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/menus/TrimContributionManager.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/menus/WorkbenchMenuService.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/services/ActivePartSourceProvider.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/services/ActiveShellSourceProvider.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/services/CurrentSelectionSourceProvider.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/services/EvaluationService.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/services/IRestrictionService.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/services/RestrictionListener.java tests/org.eclipse.ui.tests/Eclipse UI Tests/org/eclipse/ui/tests/services/EvaluationServiceTest.java
Bug 231307 [Themes] Colors and Fonts preference page: Tooltip blocks doubleclick,I20080508-2000 Colors and Fonts preference page: The custom tooltip blocks doubleclick on the items (to edit them).,bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/themes/ColorsAndFontsPreferencePage.java
Bug 231175 [Workbench] WorkbenchLabelProvider leaks,Every image allocated by WorkbenchLabelProvider is leaked. 1. The images are not disposed when the elements are no longer used by the viewer (fixing this would require a way for the viewer to tell the label provider when each element is no longer needed) 2. The images are not disposed when the label provider itself is disposed. Item 1 is a would-be-nice issue. Item 2 is more serious. The label provider should be using a LocalResourceManager to allocate its images and it should dispose the resource manager when the label provider goes away. 6 Images 6 Images at: java.lang.Error at org.eclipse.swt.graphics.Device.new_Object(Device.java:708) at org.eclipse.swt.graphics.Image.<init>(Image.java:446) at org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:289) at org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:227) at org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:205) at org.eclipse.ui.model.WorkbenchLabelProvider.getImage(WorkbenchLabelProvider.java:157) at org.eclipse.jface.viewers.WrappedViewerLabelProvider.getImage(WrappedViewerLabelProvider.java:117) at org.eclipse.jface.viewers.WrappedViewerLabelProvider.update(WrappedViewerLabelProvider.java:165) at org.eclipse.jface.viewers.ViewerColumn.refresh(ViewerColumn.java:135) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:911) at org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:97) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:857) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:199) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:991) at org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:466) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:857) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:199) at org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:2026) at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:806) at org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:781) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:755) at org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:627) at org.eclipse.jface.viewers.AbstractTreeViewer.internalInitializeTree(AbstractTreeViewer.java:1463) at org.eclipse.jface.viewers.TreeViewer.internalInitializeTree(TreeViewer.java:816) at org.eclipse.jface.viewers.AbstractTreeViewer$5.run(AbstractTreeViewer.java:1446) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1368) at org.eclipse.jface.viewers.TreeViewer.preservingSelection(TreeViewer.java:390) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1330) at org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:1435) at org.eclipse.ui.dialogs.FilteredTree$NotifyingTreeViewer.inputChanged(FilteredTree.java:797) at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:251) at org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1606) at org.eclipse.ui.internal.dialogs.NewWizardNewPage.createFilteredTree(NewWizardNewPage.java:332) at org.eclipse.ui.internal.dialogs.NewWizardNewPage.createControl(NewWizardNewPage.java:254) at org.eclipse.ui.internal.dialogs.NewWizardSelectionPage.createControl(NewWizardSelectionPage.java:88) at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:170) at org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:669) at org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:543) at org.eclipse.jface.window.Window.create(Window.java:426) at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1083) at org.eclipse.ui.actions.NewProjectAction.run(NewProjectAction.java:108) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:546) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1101) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3319) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2971) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:169) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:618) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:508) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:447) at org.eclipse.equinox.launcher.Main.run(Main.java:1173) at org.eclipse.equinox.launcher.Main.main(Main.java:1148),bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/WorkbenchPlugin.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/internal/util/SWTResourceUtil.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/model/WorkbenchLabelProvider.java tests/org.eclipse.ui.tests/Eclipse UI Tests/org/eclipse/ui/tests/manual/SaveablesView.java
Bug 229807 [JFace] ConfigureColumnsDialog does not work correctly with reordered columns,The logic for dealing with column order is backwards. Should be columnObjects[i] = cObjects[columnOrder[i]]; instead of columnObjects[columnOrder[i]] = cObjects[i];,bundles/org.eclipse.jface/src/org/eclipse/jface/internal/ConfigureColumnsDialog.java bundles/org.eclipse.ui.views/src/org/eclipse/ui/internal/views/properties/PropertiesMessages.java bundles/org.eclipse.ui.views/src/org/eclipse/ui/views/properties/PropertySheetPage.java
Bug 229782 Performance tests for ICU Collator,I20080501-0100 Now that we're using the collator again (see the dependant bug) we need to ensure that there are no performance regressions over the java.text implementation.,tests/org.eclipse.ui.tests.performance/src/org/eclipse/jface/tests/performance/CollatorPerformanceTest.java tests/org.eclipse.ui.tests.performance/src/org/eclipse/jface/tests/performance/JFacePerformanceSuite.java
Bug 229779 NPE in performance tests,There are several NPEs within the UI session tests that prevent them from running. They all are due to calls to setDegredationComment() within the constructor of the tests. This should instead be called from within the test method itself - the test object does not exist when the constructor is invoked and this method will NPE.,tests/org.eclipse.ui.tests.performance/src/org/eclipse/ui/tests/performance/OpenMultipleEditorTest.java tests/org.eclipse.ui.tests.performance/src/org/eclipse/ui/tests/performance/PerspectiveSwitchTest.java
Bug 225036 [GlobalActions] Expand All / Collapse All global retargetable actions,"Summary: The addition of global retargetable commands ""Expand All"" and ""Collapse All"" perhaps placed in the Navigation menu. Also the modification of tree-centered views in the IDE and JDT to register a handler for these actions (where appropriate). Reasons: Many of Eclipse's views are tree-based and already have their own proprietary expand all/collapse all functionality. The number of times this is repeated argues for a central dispatch point. I personally find myself hitting the ""collapse all"" button a lot in the Navigator and Java Package Viewer as well as manually Expanding All in the Java Outline or Hierarchy Views. A single keystroke to perform these tasks would be a great time saver. Not too long ago I got so frustrated with continually expanding in the Hierarchy view that I made a little plugin in 3.1 that added these commands and was able to get the Heirarchy view to respond to these handlers. Unfortunately I didn't maintain the plugin for later versions and anyway it all was a hack because a lot of the methods one needs to call are hidden in internal API requiring reflection. A better way to do this would be to integrate it more firmly with the IDE and JDT internals.",bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/IWorkbenchCommandConstants.java bundles/org.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui/handlers/ExpandAllHandler.java
Bug 224997 [Workbench] Impossible to copy project,"Version: 3.4.0 Build id: I20080330-1350 Steps: * empty workspace * create simple project ""foo"" * copy (context menu/key binding doesn't matter) * paste it (package explorer/navigator doesn't matter) * see: ""Copy of foo"" OK is enabled. Changing the name of the project (in whatever fasion) leads to the ""Project name must be specified message"". No way to sucessfully copy the project.",bundles/org.eclipse.ui.ide/extensions/org/eclipse/ui/dialogs/ProjectLocationMoveDialog.java bundles/org.eclipse.ui.ide/extensions/org/eclipse/ui/dialogs/ProjectLocationSelectionDialog.java bundles/org.eclipse.ui.ide/extensions/org/eclipse/ui/dialogs/WizardNewProjectCreationPage.java bundles/org.eclipse.ui.ide/src/org/eclipse/ui/internal/ide/IDEWorkbenchMessages.java bundles/org.eclipse.ui.ide/src/org/eclipse/ui/internal/ide/dialogs/ProjectContentsLocationArea.java